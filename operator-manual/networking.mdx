---
title: "Advanced Networking"
---

## General networking

The Zylon Kubernetes cluster is built on k0s,
which uses Calico as its default CNI (Container Network Interface).

For a complete list of ports that must be open in your firewall,
please refer to the official k0s documentation: https://docs.k0sproject.io/latest/networking/

## Configure a proxy for the kubernetes cluster

If your system operates within a local network that requires a proxy for internet access,
you must configure the proxy settings in the systemd service running the Kubernetes cluster.
In addition to setting the proxy variables in the
/etc/environment file, create a drop-in configuration file for the k0scontroller service at:

`/etc/systemd/system/k0scontroller.service.d/proxy.conf`

```
[Service]
Environment="HTTP_PROXY=..."
Environment="HTTPS_PROXY=..."
Environment="NO_PROXY=..."
```

After saving your changes, reload the systemd configuration
and restart the k0scontroller service:

```bash
sudo systemctl daemon-reload
sudo systemctl restart k0scontroller
```

The proxy configuration should also be the Zylon pods themselves
since they download models and other resources from the internet as a
one-time operation during installation or when new models are added.

To do so, apply the env with kubectl:

```bash
kubectl set env -n zylon deploy --all \
    HTTP_PROXY=... \
    HTTPS_PROXY=... \
    NO_PROXY=...
```
