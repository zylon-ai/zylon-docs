---
title: "Account"
description: "Gestiona cuentas, membresía de orgs y tokens de API."
---

Usa los endpoints de Account para listar cuentas, administrar roles, resetear contraseñas y crear o revocar tokens de API. También puedes listar organizaciones vinculadas a una cuenta y unirte a una org por ID.

## Solicitud básica y respuesta

Lista las cuentas visibles para tu token con `GET /v1/account`.

```bash
curl "https://{base_url}/v1/account" \
  -H "Authorization: Bearer {api_token}"
```

Ejemplo de respuesta:

```json
[
  {
    "id": "acct_6c8a1f3b2d4e5f7a",
    "email": "sasha@auroralabs.com",
    "name": "Sasha Patel",
    "given_name": "Sasha",
    "family_name": "Patel",
    "provider": "Credentials",
    "users": [
      {
        "id": "user_4b7c2a1d9e5f3c8b",
        "org_id": "org_2f3a9d1c7b5e4a8f",
        "account_id": "acct_6c8a1f3b2d4e5f7a",
        "name": "Sasha Patel",
        "email": "sasha@auroralabs.com",
        "state": "Active",
        "roles": ["AppAdmin"],
        "created_at": "2026-02-08T14:12:45Z"
      }
    ],
    "roles": ["AppAdmin"]
  }
]
```

## Obtener una cuenta

```bash
curl "https://{base_url}/v1/account/acct_6c8a1f3b2d4e5f7a" \
  -H "Authorization: Bearer {api_token}"
```

Ejemplo de respuesta (AccountDTO):

```json
{
  "id": "acct_6c8a1f3b2d4e5f7a",
  "email": "sasha@auroralabs.com",
  "name": "Sasha Patel",
  "given_name": "Sasha",
  "family_name": "Patel",
  "provider": "Credentials",
  "users": [
    {
      "id": "user_4b7c2a1d9e5f3c8b",
      "org_id": "org_2f3a9d1c7b5e4a8f",
      "account_id": "acct_6c8a1f3b2d4e5f7a",
      "name": "Sasha Patel",
      "email": "sasha@auroralabs.com",
      "state": "Active",
      "roles": ["AppAdmin"],
      "created_at": "2026-02-08T14:12:45Z"
    }
  ],
  "roles": ["AppAdmin"]
}
```

## Actualizar roles de cuenta

```bash
curl -X POST "https://{base_url}/v1/account/acct_6c8a1f3b2d4e5f7a" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "roles": ["AppAdmin", "Developer"]
  }'
```

Ejemplo de respuesta:

```json
{
  "id": "acct_6c8a1f3b2d4e5f7a",
  "email": "sasha@auroralabs.com",
  "name": "Sasha Patel",
  "given_name": "Sasha",
  "family_name": "Patel",
  "provider": "Credentials",
  "users": [],
  "roles": ["AppAdmin", "Developer"]
}
```

## Actualizar tu contraseña

```bash
curl -X PUT "https://{base_url}/v1/account/me" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "current_password": "S3cure!Passw0rd",
    "new_password": "N3w!Passw0rd2026"
  }'
```

Ejemplo de respuesta:

```text
HTTP/1.1 204 No Content
```

## Resetear contraseña de cuenta

```bash
curl -X POST "https://{base_url}/v1/account/acct_6c8a1f3b2d4e5f7a/reset-password" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "new_password": "Temp!Passw0rd2026"
  }'
```

Ejemplo de respuesta:

```json
{
  "new_password": "Temp!Passw0rd2026"
}
```

## Listar tokens de API

```bash
curl "https://{base_url}/v1/account/token" \
  -H "Authorization: Bearer {api_token}"
```

Ejemplo de respuesta:

```json
[
  {
    "name": "ci-deploy",
    "token": "v1---redacted",
    "hashed_token": "sha256:2b7f...",
    "token_email": "sasha@auroralabs.com",
    "last_used_at": "2026-02-08T13:58:10Z",
    "created_at": "2026-02-01T09:12:00Z",
    "valid_until": "2026-08-01T00:00:00Z"
  }
]
```

## Crear un token de API

```bash
curl -X POST "https://{base_url}/v1/account/token" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "ci-deploy",
    "revoke_existing": false,
    "valid_until": "2026-08-01T00:00:00Z"
  }'
```

Ejemplo de respuesta:

```json
{
  "name": "ci-deploy",
  "token": "v1---redacted",
  "hashed_token": "sha256:2b7f...",
  "token_email": "sasha@auroralabs.com",
  "last_used_at": null,
  "created_at": "2026-02-08T14:22:00Z",
  "valid_until": "2026-08-01T00:00:00Z"
}
```

## Revocar un token de API

```bash
curl -X DELETE "https://{base_url}/v1/account/token" \
  -H "Authorization: Bearer {api_token}"
```

Ejemplo de respuesta:

```json
"ok"
```

## Listar organizaciones de una cuenta

```bash
curl "https://{base_url}/v1/account/organization" \
  -H "Authorization: Bearer {api_token}"
```

Ejemplo de respuesta (esquema no definido en OpenAPI):

```json
[
  {
    "name": "Aurora Labs",
    "context": "Enterprise R&D and analytics.",
    "email_regex": ".*@auroralabs.com"
  }
]
```

## Unirse a una organización

```bash
curl -X POST "https://{base_url}/v1/account/organization/org_2f3a9d1c7b5e4a8f/join" \
  -H "Authorization: Bearer {api_token}"
```

Ejemplo de respuesta (UserDTO):

```json
{
  "id": "user_4b7c2a1d9e5f3c8b",
  "org_id": "org_2f3a9d1c7b5e4a8f",
  "account_id": "acct_6c8a1f3b2d4e5f7a",
  "name": "Sasha Patel",
  "email": "sasha@auroralabs.com",
  "state": "Active",
  "roles": ["AppMember"],
  "created_at": "2026-02-08T14:25:31Z"
}
```

## Errores y casos límite

- **401/403**: token inválido o ausente.
- **409**: nombre de token ya existe.
- **404**: cuenta u organización no encontrada.
