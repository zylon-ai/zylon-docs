---
title: "Artifacts API"
description: "Ingesta texto, archivos o URIs en una colección para usarlos después."
---

Un **artefacto** es contenido que ingestas en Zylon para recuperarlo más tarde. Los artefactos viven dentro de una **colección** y cada uno tiene un ID estable.

Tipos:

- **Text**: strings directos
- **File**: bytes base64 (por ejemplo `.txt` o `.pdf`)
- **URI**: una URL que Zylon obtiene e ingesta

## Requisitos previos

- Un token de API. Ver [Gestión de tokens](/es/api-reference/token-management).
- Tu hostname de Zylon (reemplaza `{base_url}` en los ejemplos).

## Solicitud y respuesta básica (ingesta async)

Ingesta contenido en una colección de forma asíncrona.

<Tabs>
  <Tab title="Text">
```bash
curl -X POST "https://{base_url}/gpt/v1/artifacts/ingest/async" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "ingest_body": {
      "collection": "docs_examples",
      "artifact": "docs_text_artifact_async_pending",
      "input": {
        "type": "text",
        "value": "Release notes: We shipped a new billing dashboard and fixed three bugs."
      },
      "metadata": {
        "file_name": "release_notes.txt",
        "source": "docs"
      }
    }
  }'
```
  </Tab>

  <Tab title="File">
```bash
curl -X POST "https://{base_url}/gpt/v1/artifacts/ingest/async" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "ingest_body": {
      "collection": "docs_examples",
      "artifact": "docs_file_artifact_async",
      "input": {
        "type": "file",
        "value": "SGVsbG8gZnJvbSBmaWxlIGFydGlmYWN0Lgo="
      },
      "metadata": {
        "file_name": "onboarding_checklist.txt",
        "source": "docs"
      }
    }
  }'
```
  </Tab>

  <Tab title="URI">
```bash
curl -X POST "https://{base_url}/gpt/v1/artifacts/ingest/async" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "ingest_body": {
      "collection": "docs_examples",
      "artifact": "docs_uri_artifact_async",
      "input": {
        "type": "uri",
        "value": "https://example.com/"
      },
      "metadata": {
        "file_name": "example.html",
        "source": "docs"
      }
    }
  }'
```
  </Tab>
</Tabs>

Ejemplo de respuesta:

```json
{ "task_id": "f04e0709-131a-4a9d-b884-78872a4e63d7" }
```

Consultar estado:

```bash
curl "https://{base_url}/gpt/v1/artifacts/ingest/async/{task_id}" \
  -H "Authorization: Bearer {api_token}"
```

Ejemplo de respuesta:

```json
{
  "task_id": "f04e0709-131a-4a9d-b884-78872a4e63d7",
  "task_status": "PENDING",
  "task_result": null
}
```

## Listar artefactos

```bash
curl "https://{base_url}/gpt/v1/artifacts/list?collection=docs_examples" \
  -H "Authorization: Bearer {api_token}"
```

Ejemplo de respuesta (truncado):

```json
{
  "object": "list",
  "model": "private-gpt",
  "data": [
    {
      "object": "ingest.document",
      "artifact": "docs_file_artifact",
      "doc_metadata": {
        "file_name": "docs_file_artifact.txt",
        "artifact_id": "docs_file_artifact",
        "collection": "docs_examples"
      }
    }
  ]
}
```

## Recuperar contenido

### Contenido completo

```bash
curl -X POST "https://{base_url}/gpt/v1/artifacts/content" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "context_filter": {
      "collection": "docs_examples",
      "artifacts": ["docs_file_artifact"]
    }
  }'
```

Ejemplo de respuesta:

```json
{
  "data": [
    {
      "artifact_id": "docs_file_artifact",
      "content": "Hello from file artifact.\n\n"
    }
  ]
}
```

### Contenido en chunks

```bash
curl -X POST "https://{base_url}/gpt/v1/artifacts/chunked-content" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "context_filter": {
      "collection": "docs_examples",
      "artifacts": ["docs_file_artifact"]
    },
    "max_tokens": 50
  }'
```

Ejemplo de respuesta (truncado):

```json
{
  "data": [
    {
      "artifact_id": "docs_file_artifact",
      "content": [
        { "type": "source", "sources": [{ "object": "context.chunk", "id": "c5f20f0f-56e6-44e0-99e8-0d4ff4bb87eb" }] },
        { "type": "text", "text": "**Context Information**:\nBelow is important information..." }
      ]
    }
  ]
}
```

## Eliminar artefactos

Eliminar (sync):

```bash
curl -i -X POST "https://{base_url}/gpt/v1/artifacts/delete" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "collection": "docs_examples",
    "artifact": "docs_text_artifact_async_pending"
  }'
```

Ejemplo de respuesta (truncado):

```text
HTTP/2 200

null
```

Eliminar (async):

```bash
curl -X POST "https://{base_url}/gpt/v1/artifacts/delete/async" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "delete_body": {
      "collection": "docs_examples",
      "artifact": "docs_text_artifact_async"
    }
  }'
```

Ejemplo de respuesta:

```json
{ "task_id": "2d48e74f-3eff-474e-b338-a931390ac218" }
```

Consultar estado:

```bash
curl "https://{base_url}/gpt/v1/artifacts/delete/async/{task_id}" \
  -H "Authorization: Bearer {api_token}"
```

Ejemplo de respuesta:

```json
{
  "task_id": "2d48e74f-3eff-474e-b338-a931390ac218",
  "task_status": "PENDING",
  "task_result": null
}
```

<Tip>
  Sigue consultando hasta que `task_status` sea `"SUCCESS"` o `"FAILURE"`.
  Si falla mientras el índice se completa, reintenta luego.
</Tip>
