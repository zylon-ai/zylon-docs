---
title: "Semi-Airgap Installation"
description: "Install Zylon in environments with restricted internet access"
---

import InstallationCli from "/snippets/en/installation/installation-cli.mdx";
import InstallationConfig from "/snippets/en/installation/installation-config.mdx";
import InstallationSeed from "/snippets/en/installation/installation-seed.mdx";
import InstallationSsl from "/snippets/en/installation/installation-ssl.mdx";
import InstallationMonitor from "/snippets/en/installation/installation-monitor.mdx";

This guide covers Zylon installation for environments with limited internet access due to firewall restrictions or proxy requirements. The system requires one-time internet connectivity during installation and updates.

<Note>
  **Prerequisites**: Linux machine with restricted internet, firewall access to specific domains, root access, and a domain name. See [installation prerequisites](/en/operator-manual/installation/#common-prerequisites).
</Note>

---

## Required Network Access

Your firewall must allow access to these domains:

**Essential Services:**
- `get.zylon.ai` - CLI installation
- `zylon-cli.s3.us-east-1.amazonaws.com` - CLI binaries and dependencies
- `replicated.app` - Zylon distribution platform
- `api.replicated.com` - License validation
- `proxy.replicated.com` - Zylon container images

**Container Registries:**
- `quay.io` - Third-party container images
- `ghcr.io` - GitHub container registry
- `docker.io` - Docker Hub images
- `registry.k8s.io` - Kubernetes images
- `reg.kyverno.io` - Kyverno policy engine
- `nvcr.io` - NVIDIA Container Registry

**AI Models & Dependencies:**
- `huggingface.co` - AI model repository
- `xet.huggingface.co` - Hugging Face XET protocol
- `zylon-hf-mirror.s3.us-east-1.amazonaws.com` - Zylon's AI model mirror

**System Dependencies:**
- `nvidia.com` - NVIDIA driver packages
- `developer.download.nvidia.com` - NVIDIA CUDA toolkit
- `get.k0s.sh` - Kubernetes distribution installer
- `raw.githubusercontent.com` - GitHub raw content
- `github.com` - GitHub repositories
- `*.github.io` - GitHub Pages (various Helm charts)
- `openebs.github.io` - OpenEBS storage Helm charts
- `stakater.github.io` - Stakater Helm charts
- `kyverno.github.io` - Kyverno Helm charts

**Optional (Configuration-Dependent):**
- `openaipublic.blob.core.windows.net` - Required only for gpt-oss configuration

<Tip>
  Work with your network team to whitelist these domains before starting installation.
</Tip>

---

## Installating Zylon in Semi-Airgap Environments

<Steps>
  <Step title="Install Zylon CLI">
    <InstallationCli />
    
    Ensure your firewall allows access to `get.zylon.ai`.
  </Step>

  <Step title="Configure Zylon">
    <InstallationConfig />

    **Semi-Airgap Specific Configuration**

    Add to `/etc/zylon/zylon-conf.yaml`:

    ```yaml
    airgap:
      offline_operation: true
    ```

    **Local License (If Needed)**

    If `api.replicated.com` is blocked during operation, you need a local license. Contact Zylon support to obtain it, then add:

    ```yaml
    license:
      email: "champion@company.com"
      id: "2xo..."
      type: "Zylon"
      data: |-
        [License data provided by Zylon team]
    ```

    **For proxy configuration**, see the [Proxy Configuration Guide](/en/operator-manual/proxy).

    **Disable Let's Encrypt**

    Edit `/etc/zylon/zylon-conf.yaml` and **remove** these lines:

    ```yaml
    certManagerAnnotations:
      cert-manager.io/cluster-issuer: "letsencrypt-prod"
    ```

  </Step>

  <Step title="Install Zylon">
    Run the installation with your desired version:

    ```bash
    sudo zylon-cli install <version>
    ```

    <InstallationMonitor />

    Installation may take 15-60 minutes depending on network speed and firewall restrictions.
  </Step>

  <Step title="Create Organization">
    <InstallationSeed />
  </Step>

  <Step title="Configure SSL (Optional)">
    For VPN or private network deployments, you need to manually install SSL certificates.

    <InstallationSsl />
  </Step>
</Steps>

---

## Updating Semi-Airgap Installations

Updates follow the same process as installation with the same network requirements:

```bash
sudo zylon-cli install <new-version>
```

Only incremental changes are downloaded during updates.

---

## Next Steps

- [Configure AI Presets](/en/operator-manual/ai-presets) to optimize for your hardware
- [Set up SSO](/en/operator-manual/openid) with OpenID Connect
- [Configure backups](/en/operator-manual/backup) for data protection
- [Review User Manual](/en/user-manual/quick-start-guide) to get started