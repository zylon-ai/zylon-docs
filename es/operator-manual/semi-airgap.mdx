---
title: "Instalación semi-airgap"
description: "Instrucciones para instalar Zylon en un entorno semi-airgapped"
---

Consideramos un entorno semi-airgapped como aquel donde la máquina objetivo tiene acceso limitado
a internet, está bajo un firewall o proxy muy restrictivo pero aún puede obtener
algunos recursos de internet al menos una vez durante la configuración inicial.

<Tip>
    Consulta la [guía de proxy](/operator-manual/proxy) si necesitas configurar un proxy.
</Tip>

Para que la instalación de Zylon sea posible, como mínimo se deben cumplir todos estos requisitos:
* Es posible ejecutar apt-get para instalar dependencias del sistema
  * Si apt no está disponible, los siguientes paquetes deben instalarse manualmente:
`gcc`, `make`, `wget`, `git`, `curl`, `gpg`
* El reloj del servidor está sincronizado con un servidor NTP
* Todos estos dominios son accesibles:
  * `get.zylon.ai`
  * `zylon-cli.s3.us-east-1.amazonaws.com`
  * `quay.io`
  * `ghcr.io`
  * `docker.io`
  * `registry.k8s.io`
  * `reg.kyverno.io`
  * `hugginface.co`
  * `xet.huggingface.co`
  * `nvidia.com`
  * `zylon-hf-mirror.s3.us-east-1.amazonaws.com`
  * `developer.download.nvidia.com`
  * `get.k0s.sh`
  * `raw.githubusercontent.com`
  * `github.com`
  * `openebs.github.io`
  * `stakater.github.io`
  * `kyverno.github.io`
  * `registry.k8s.io`
  * `reg.kyverno.io`
  * `*.github.io`
  * `replicated.app`
  * `api.replicated.com`
  * `proxy.replicated.com`
* Nota: Dependiendo de tu configuración, pueden requerirse dominios adicionales:
  * gpt-oss: `openaipublic.blob.core.windows.net`

Estas son las imágenes de docker que se descargarán durante la instalación, alojadas
en docker, nuestro repositorio de imágenes privado de Zylon, o github (las versiones pueden variar a medida que actualizamos Zylon)

```yaml expandable
docker.io/alpine/k8s:1.29.13
docker.io/arizephoenix/phoenix:version-9.2.0
docker.io/bitnamilegacy/kubectl:1.25.15
docker.io/bitnamilegacy/minio:2025.3.12-debian-12-r0
docker.io/bitnamilegacy/postgres-exporter:0.15.0-debian-12-r36
docker.io/bitnamilegacy/postgresql:16.3.0-debian-12-r19
docker.io/bitnamilegacy/rabbitmq:3.13.4-debian-12-r0
docker.io/bitnamilegacy/redis-exporter:1.69.0-debian-12-r1
docker.io/bitnamilegacy/redis:7.4.2-debian-12-r6
docker.io/grafana/alloy:v1.7.4
docker.io/grafana/alloy:v1.8.1
docker.io/kubernetesui/dashboard-api:1.10.2
docker.io/kubernetesui/dashboard-auth:1.2.3
docker.io/kubernetesui/dashboard-metrics-scraper:1.2.2
docker.io/kubernetesui/dashboard-web:1.6.1
docker.io/library/kong:3.8
docker.io/openebs/linux-utils:4.2.0
docker.io/openebs/lvm-driver:1.6.1
docker.io/openebs/lvm-driver:1.8.0-develop
docker.io/openebs/provisioner-localpv:4.4.0-develop
docker.io/openebs/zfs-driver:2.6.2
docker.io/openebs/zfs-driver:2.9.0-develop
docker.io/qdrant/qdrant:v1.13.5
docker.io/replicated/replicated-sdk:1.0.0
ghcr.io/getsentry/sentry-kubernetes:latest
ghcr.io/jimmidyson/configmap-reload:v0.14.0
ghcr.io/stakater/reloader:v1.0.116
ghcr.io/superblocksteam/agent:v1.19.0
nvcr.io/nvidia/cloud-native/gpu-operator-validator:v24.9.2
nvcr.io/nvidia/gpu-operator:v24.9.2
nvcr.io/nvidia/k8s-device-plugin:v0.17.0
nvcr.io/nvidia/k8s/dcgm-exporter:3.3.9-3.6.1-ubuntu22.04
proxy.replicated.com/proxy/zylon/918593742895.dkr.ecr.us-east-1.amazonaws.com/zylon-backend:0.101.7
proxy.replicated.com/proxy/zylon/918593742895.dkr.ecr.us-east-1.amazonaws.com/zylon-docling:1.0.9
proxy.replicated.com/proxy/zylon/918593742895.dkr.ecr.us-east-1.amazonaws.com/zylon-docling:1.0.9
proxy.replicated.com/proxy/zylon/918593742895.dkr.ecr.us-east-1.amazonaws.com/zylon-frontend:1.86.6
proxy.replicated.com/proxy/zylon/918593742895.dkr.ecr.us-east-1.amazonaws.com/zylon-gpt:0.68.1
proxy.replicated.com/proxy/zylon/918593742895.dkr.ecr.us-east-1.amazonaws.com/zylon-gpt:0.68.5
proxy.replicated.com/proxy/zylon/918593742895.dkr.ecr.us-east-1.amazonaws.com/zylon-gpt:0.68.6
proxy.replicated.com/proxy/zylon/918593742895.dkr.ecr.us-east-1.amazonaws.com/zylon-sandbox:1.0.0
proxy.replicated.com/proxy/zylon/918593742895.dkr.ecr.us-east-1.amazonaws.com/zylon-sandbox:1.0.0
proxy.replicated.com/proxy/zylon/918593742895.dkr.ecr.us-east-1.amazonaws.com/zylon-triton:1.8.0
quay.io/jetstack/cert-manager-acmesolver:v1.15.3
quay.io/jetstack/cert-manager-cainjector:v1.15.3
quay.io/jetstack/cert-manager-controller:v1.15.3
quay.io/jetstack/cert-manager-webhook:v1.15.3
quay.io/k0sproject/cni-node:1.3.0-k0s.0
quay.io/k0sproject/coredns:1.12.0
quay.io/k0sproject/kube-proxy:v1.32.1
quay.io/k0sproject/kube-router:v2.4.1-iptables1.8.9-0
quay.io/prometheus-operator/prometheus-config-reloader:v0.81.0
quay.io/prometheus/node-exporter:v1.9.0
reg.kyverno.io/kyverno/background-controller:v1.15.2
reg.kyverno.io/kyverno/cleanup-controller:v1.15.2
reg.kyverno.io/kyverno/kyverno:v1.15.2
reg.kyverno.io/kyverno/kyvernopre:v1.15.2
reg.kyverno.io/kyverno/reports-controller:v1.15.2
registry.k8s.io/metrics-server/metrics-server:v0.7.2
registry.k8s.io/nfd/node-feature-discovery:v0.16.6
registry.k8s.io/pause:3.9
registry.k8s.io/sig-storage/csi-node-driver-registrar:v2.13.0
registry.k8s.io/sig-storage/csi-provisioner:v5.2.0
registry.k8s.io/sig-storage/csi-resizer:v1.13.2
registry.k8s.io/sig-storage/csi-resizer:v1.8.0
registry.k8s.io/sig-storage/csi-snapshotter:v8.2.0
registry.k8s.io/sig-storage/snapshot-controller:v8.2.0
```
## Requisitos
Se requiere tener una Licencia Local de Zylon en caso de que `api.replicated.com` no sea accesible durante el tiempo de operación.
Para obtener tu Licencia Local de Zylon, por favor contacta al equipo de Zylon.

## Habilitar entorno semi-airgapped
Agrega al archivo de configuración ubicado en `/etc/zylon/zylon-conf.yaml` el siguiente fragmento:
```yaml
airgap:
  offline_operation: true
```

En caso de que necesites la licencia local, agrega las propiedades `type` y `data` al bloque `license` en el archivo de configuración.
```yaml
license:
  email: "dev@zylon.ai" // permanece como estaba
  id: "2xo..." // permanece como estaba
  type: "Zylon"
  data: |-
    eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVC.eyJhdWQiOiJ6eWxvbi5haSIsImlzcyI6Inp5bG9uLmF
    pIiwic3ViIjoibWdhcmNpYUBiYW5zaS5jb20ubXgiLCJpYXQiOjE3NjEzMTYxMDcsImV4cCI6MTc5
    ...
    YWA9VSHEGmsoxFn85i0
```
## Proceso de actualización en un entorno semi-airgapped

Para todos los propósitos prácticos, el proceso de actualización es el mismo que el proceso de instalación,
por lo que se aplican los mismos requisitos. (Nota que solo las actualizaciones incrementales se descargarán durante el
proceso de actualización). Esto significa, conectividad a internet hacia los dominios mencionados.


