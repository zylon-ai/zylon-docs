---
title: "Análisis tabular"
description: "La herramienta de análisis tabular se usa para analizar y consultar datos numéricos de tablas, hojas de cálculo y documentos estructurados que han sido previamente ingeridos."
---

## Cómo funciona

Cuando añades la herramienta de análisis tabular y el contexto especificado a tu solicitud de API, Zylon sigue estos pasos:

1. **Analiza la intención de la consulta**: Zylon entiende tu pregunta analítica y determina qué análisis de datos específico necesita realizarse.
2. **Procesa datos tabulares**: Ejecuta análisis usando la herramienta contra los datos tabulares ingeridos, enfocándose en cálculos numéricos e insights de datos.
3. **Devuelve resultados analíticos**: Proporciona respuestas analíticas directas basadas en el procesamiento de datos y cálculos realizados.

## Notas importantes

- Para usar esta herramienta, debes especificar el **tipo `tabular_analysis_v1`**.
- El `tool_context` debe contener al menos un artefacto de tipo **`ingested_artifact`**.
- Los artefactos deben contener datos tabulares como **archivos CSV**, **hojas de cálculo Excel**, **PDFs con tablas** u otros formatos de datos estructurados.

## Ejemplo de uso

En este ejemplo práctico, subimos un archivo CSV que contiene datos de precios de acciones y luego realizamos consultas analíticas para encontrar insights específicos.

<Steps>
<Step title="Subir el documento">
    Primero, necesitas subir un archivo CSV o documento tabular similar que contenga los datos que quieres analizar. Para instrucciones detalladas sobre cómo ingerir documentos, consulta la documentación de la API de ZylonGPT.
</Step>
<Step title="Realizar análisis tabular">
    Una vez que el documento está procesado, realizamos la consulta analítica especificando mensajes, herramientas, contexto y elección de herramienta en el cuerpo de la solicitud.
    <Tabs>
      <Tab title="Shell">
        ```
        curl --location 'https://<your-host>/api/gpt/v1/messages' \
        --header 'Authorization: Bearer <your-token>' \
        --header 'x-org: default' \
        --header 'Content-Type: application/json' \
        --data '{
          "messages": [
            {
              "role": "user",
              "content": "What is the day with the highest closing price?"
            }
          ],
          "tools": [
            {
              "name": "tabular_analysis",
              "type": "tabular_analysis_v1"
            }
          ],
          "tool_choice": { "type": "auto" },
          "tool_context": [
            {
              "type": "ingested_artifact",
              "context_filter": {
                "collection": "stock_documents",
                "artifacts": [
                  "8853b8c6-59ea-4874-b0a2-fe96cc15eb13"
                ]
              }
            }
          ]
        }'
        ```
      </Tab>
    </Tabs>
    </Step>
<Step title="Respuesta">
    El sistema responde con el procesamiento analítico realizado y la respuesta directa a tu consulta:
     ```
      {
        "id": "msg_978e1f57031a41b2bc9140dfe2696ccd",
        "type": "message",
        "role": "assistant",
        "content": [
            {
                "type": "tool_use",
                "start_timestamp": "2025-09-24T16:38:02.179513Z",
                "stop_timestamp": "2025-09-24T16:38:03.487913Z",
                "id": "toolu_01997c96cec37ccc9aafac2566b8c60f",
                "name": "tabular_analysis",
                "input": {
                    "query": "Find the day with the highest closing price"
                }
            },
            {
                "type": "tool_result",
                "start_timestamp": "2025-09-24T16:38:16.028423Z",
                "stop_timestamp": "2025-09-24T16:38:16.030538Z",
                "tool_use_id": "toolu_01997c96cec37ccc9aafac2566b8c60f",
                "content": [
                    {
                        "type": "text",
                        "text": "The day with the highest closing price is 2024-12-26."
                    }
                ],
                "is_error": false
            },
            {
                "type": "text",
                "start_timestamp": "2025-09-24T16:38:16.341826Z",
                "stop_timestamp": "2025-09-24T16:38:17.743287Z",
                "text": "The day with the highest closing price is **2024-12-26**."
            }
        ],
        "model": "private-gpt",
        "stop_reason": "end_turn",
        "stop_sequence": null,
        "usage": {
            "input_tokens": 621,
            "output_tokens": 22
        }
    }
     ```
    </Step>
</Steps>
