---
title: "Chats"
description: "Threads, interactions, and one-shot chat endpoints."
---

Chats in the Workspace API are organized around **threads** and **interactions**:

{/* <!-- RESTRUCTURED --> */}
| Concept | Meaning |
| --- | --- |
| **Thread** | A conversation container within a project. |
| **Interaction** | A single exchange inside a thread. |
| **Chat** | A one‑shot request that does **not** create a thread. |

Use threads when you want history and follow‑ups. Use interactions to send a new turn into a thread. Use the chat endpoint for single‑turn requests.

## Basic request and response

Create a thread interaction with `POST /v1/app/thread/{threadId}/interaction`.

```bash
curl -X POST "https://{BASE_URL}/v1/app/thread/thread_3f2a1c4d5b6e7f8a/interaction" \
  -H "Authorization: Bearer {API_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{
    "thread_id": "thread_3f2a1c4d5b6e7f8a",
    "artifact_ids": ["artifact_2b4d6f8a1c3e5a7b"],
    "all_artifacts": false,
    "agent": "Default",
    "pgpt": {
      "messages": [
        {
          "role": "user",
          "content": [
            { "type": "text", "text": "Summarize the artifact in three bullets." }
          ]
        }
      ],
      "max_tokens": 120,
      "temperature": 0.2
    }
  }'
```

{/* <!-- RESTRUCTURED --> */}
<Accordion title="Example response (InteractionDTO)">
```json
{
  "id": "inter_5a7b9c1d3e5f7a9b",
  "project_id": "proj_7a5c3e1b9d2f4a6c",
  "thread_id": "thread_3f2a1c4d5b6e7f8a",
  "state": "Completed",
  "artifact_ids": ["artifact_2b4d6f8a1c3e5a7b"],
  "all_artifacts": false,
  "user_input": {
    "role": "user",
    "content": [
      { "type": "text", "text": "Summarize the artifact in three bullets." }
    ]
  },
  "assistant_output": {
    "id": "msg_3d2c1b4a5f6e7d8c",
    "created": 1739036500,
    "model": "default",
    "stop_reason": "end_turn",
    "content": [
      { "type": "text", "text": "• Ticket volume rose 12% week-over-week\n• Billing issues drove 38% of cases\n• Priority bugs were resolved within 48 hours" }
    ],
    "usage": { "input_tokens": 180, "output_tokens": 52 }
  },
  "created_at": "2026-02-08T14:41:10Z"
}
```
</Accordion>

## Create or list threads

Create a new thread in a project:

```bash
curl -X POST "https://{BASE_URL}/v1/app/project/proj_7a5c3e1b9d2f4a6c/thread" \
  -H "Authorization: Bearer {API_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Weekly Support Brief",
    "visibility": "Private"
  }'
```

List threads in a project:

```bash
curl "https://{BASE_URL}/v1/app/project/proj_7a5c3e1b9d2f4a6c/thread?page=1&page_size=20" \
  -H "Authorization: Bearer {API_TOKEN}"
```

{/* <!-- RESTRUCTURED --> */}
<Accordion title="Example response (schema not defined in OpenAPI)">
```json
{
  "data": [
    {
      "id": "thread_3f2a1c4d5b6e7f8a",
      "name": "Weekly Support Brief",
      "visibility": "Private",
      "created_at": "2026-02-08T14:40:00Z"
    }
  ],
  "has_next_page": false,
  "has_previous_page": false,
  "total_count": 1
}
```
</Accordion>

## Update or delete a thread

```bash
curl -X PUT "https://{BASE_URL}/v1/app/thread/thread_3f2a1c4d5b6e7f8a" \
  -H "Authorization: Bearer {API_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Weekly Support Brief",
    "visibility": "Private"
  }'
```

Delete a thread:

```bash
curl -X DELETE "https://{BASE_URL}/v1/app/thread/thread_3f2a1c4d5b6e7f8a" \
  -H "Authorization: Bearer {API_TOKEN}"
```

## List or fetch interactions

List interactions for a thread:

```bash
curl "https://{BASE_URL}/v1/app/thread/thread_3f2a1c4d5b6e7f8a/interaction?page=1&page_size=20" \
  -H "Authorization: Bearer {API_TOKEN}"
```

Fetch a specific interaction:

```bash
curl "https://{BASE_URL}/v1/app/interaction/inter_5a7b9c1d3e5f7a9b" \
  -H "Authorization: Bearer {API_TOKEN}"
```

## Cancel, delete, or stream an interaction

Cancel a running interaction:

```bash
curl -X POST "https://{BASE_URL}/v1/app/interaction/inter_5a7b9c1d3e5f7a9b/cancel" \
  -H "Authorization: Bearer {API_TOKEN}"
```

Delete an interaction:

```bash
curl -X DELETE "https://{BASE_URL}/v1/app/interaction/inter_5a7b9c1d3e5f7a9b" \
  -H "Authorization: Bearer {API_TOKEN}"
```

Stream interaction output:

```bash
curl -N "https://{BASE_URL}/v1/app/interaction/inter_5a7b9c1d3e5f7a9b/stream" \
  -H "Authorization: Bearer {API_TOKEN}" \
  -H "Accept: text/event-stream"
```

{/* <!-- RESTRUCTURED --> */}
<Accordion title="Example stream">
```text
event: message_start
data: {"type":"message_start","message":{"id":"msg_3d2c1b4a5f6e7d8c","role":"assistant","content":[]}}

event: content_block_delta
data: {"type":"content_block_delta","delta":{"type":"text_delta","text":"• Ticket volume rose 12%"}}

event: message_stop
data: {"type":"message_stop"}
```
</Accordion>

## One‑shot chat

If you don’t need a thread, call the chat endpoint directly:

```bash
curl -X POST "https://{BASE_URL}/v1/app/chat" \
  -H "Authorization: Bearer {API_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{
    "messages": [
      {
        "role": "user",
        "content": [
          { "type": "text", "text": "Draft a 2-sentence update on this week’s support backlog." }
        ]
      }
    ],
    "max_tokens": 64,
    "temperature": 0.3
  }'
```

{/* <!-- RESTRUCTURED --> */}
<Accordion title="Example response (schema not defined in OpenAPI)">
```json
{
  "id": "msg_5f2e1d3c4b6a7c8d",
  "role": "assistant",
  "content": [
    { "type": "text", "text": "Backlog volume dipped 8% this week after closing high-priority billing cases. We’ll focus next on resolving long-tail authentication issues." }
  ]
}
```
</Accordion>

## Validate a chat request

```bash
curl -X POST "https://{BASE_URL}/v1/app/chat/validate" \
  -H "Authorization: Bearer {API_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{
    "messages": [
      {
        "role": "user",
        "content": [
          { "type": "text", "text": "Give me a three-bullet summary of the Q1 support plan." }
        ]
      }
    ],
    "max_tokens": 64,
    "temperature": 0.3
  }'
```

## Errors and edge cases

- **400**: invalid message schema (use `/chat/validate`).
- **404**: thread or interaction not found.
- **409**: interaction already completed when canceling.
