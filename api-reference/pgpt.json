{"openapi":"3.1.0","info":{"title":"Zylon-GPT API","description":"\nThis API describes Zylon's AI layer's API. The API exposes low-level\nprimitives that allow developers to build AI apps\nand worflows on top of Zylon's Private AI platform.\n","version":"0.57.1\n"},"servers":[{"url":"/gpt"}],"paths":{"/v1/messages":{"post":{"tags":["Messages","Messages"],"summary":"Messages","description":"Generate a chat completion from a conversation history.\n\nThis endpoint enables multi-turn conversations with the AI model, with\noptional tool support and comprehensive message validation.\n\nKey Features:\n* Multi-turn conversations: Support for system, user, and assistant\n  messages\n* Tool Support: Full tool use/result validation with automatic or manual\n  selection\n* Citations: Enable `system.citations.enabled` to include references in\n  responses\n* Streaming: Enable `stream` for partial updates in real-time\n* Default Prompts: Enable `system.use_default_prompt` for using Zylon\n  prompts\n* Thinking: Enable `thinking.enabled` for step-by-step reasoning\n  capabilities\n* Sampling Parameters: Control randomness with temperature, top_p,\n  top_k, etc.\n\nNotes:\n* Tool use/result blocks must be properly paired within assistant\n  messages\n* Tool choice type must be 'auto', 'tool', or 'none'\n* When tool_choice.type is 'tool', tool_choice.name must specify a\n  valid tool\n* All message content is validated for completeness and proper structure\n* Last message must be from user or assistant for proper conversation\n  flow\n* MCP servers provide external tool capabilities via Model Context\n  Protocol\n* Sampling parameters control response randomness and token selection","operationId":"chat_messages_v1_messages_post","requestBody":{"description":"Request body for chat completion supporting multi-turn conversations with AI models.\n\nContains message history, tool definitions, system prompts, and response configuration. Supports both streaming and non-streaming responses with optional tool usage, citations, and advanced sampling parameters.\n\nThe request body defines the complete conversation context and AI behavior parameters for generating responses.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatBody"}}},"required":true},"responses":{"200":{"description":"Successful chat message","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageOutput"},"examples":{"text_response":{"summary":"Standard text response","value":{"id":"msg_12345","type":"message","role":"assistant","content":[{"type":"text","start_timestamp":"2025-07-10T09:11:16.003615Z","stop_timestamp":"2025-07-10T09:11:28.048942Z","text":"Based on the analysis, I found 3 potential security issues..."}],"model":"private-gpt","stop_reason":"end_turn","usage":{"input_tokens":432,"output_tokens":89}}},"tool_use_response":{"summary":"Response with tool usage","value":{"id":"msg_67890","type":"message","role":"assistant","content":[{"type":"text","text":"I'll help you with precise temperature control."},{"type":"tool_use","id":"scan_001","name":"security_scanner","input":{"directory":"/src","scan_type":"vulnerability"}}],"model":"private-gpt","stop_reason":"tool_use","usage":{"input_tokens":156,"output_tokens":234}}}}},"text/event-stream":{"examples":{"streaming_response":{"summary":"Server-sent events for streaming","value":"event: message_start\ndata: {\"type\":\"message_start\",\"message\":{\"id\":\"msg_12345\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[],\"model\":\"private-gpt\",\"usage\":{}}}\n\nevent: content_block_start\ndata: {\"type\":\"content_block_start\",\"block_id\":\"block_001\",\"content_block\":{\"type\":\"text\",\"start_timestamp\":\"2025-07-10T09:12:41.819953Z\",\"text\":\"\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"block_id\":\"block_001\",\"delta\":{\"type\":\"text_delta\",\"text\":\"Analyzing your codebase\"}}\n\nevent: content_block_stop\ndata: {\"type\":\"content_block_stop\",\"stop_timestamp\":\"2025-07-10T09:12:54.044672Z\",\"block_id\":\"block_001\"}\n\nevent: message_delta\ndata: {\"type\":\"message_delta\",\"delta\":{\"stop_reason\":\"end_turn\"},\"usage\":{\"input_tokens\":432,\"output_tokens\":89}}\n\nevent: message_stop\ndata: {\"type\":\"message_stop\"}\n\n"}}}}},"401":{"description":"Unauthorized"},"422":{"description":"Validation Error - Invalid request parameters","content":{"application/json":{"examples":{"empty_messages":{"summary":"Empty messages array","value":{"detail":[{"loc":["body","messages"],"msg":"Messages cannot be empty","type":"value_error"}]}},"invalid_tool_choice":{"summary":"Invalid tool choice","value":{"detail":[{"loc":["body","tool_choice"],"msg":"Tool choice 'nonexistent_tool' is not in the provided tools","type":"value_error"}]}},"json_schema_with_tools":{"summary":"JSON schema incompatible with tools","value":{"detail":[{"loc":["body"],"msg":"Tools are not supported when response_format is set to json_schema","type":"value_error"}]}}}}}}}}},"/v1/chunks":{"post":{"tags":["Chunks","Chunks"],"summary":"Retrieve Chunks from Semantic Search","description":"Perform semantic search to find relevant chunks from ingested documents.\n\nThis endpoint finds semantically similar document chunks based on the\nprovided text query. Results are ranked by similarity score and can be\nfiltered by collection, artifacts, and metadata.\n\nKey Features:\n* Semantic Search: Find relevant chunks based on meaning, not just keywords\n* Score-based Ranking: Results include similarity scores for comparison\n* Adjacent Context: Optionally retrieve surrounding chunks for more context\n* Filtered Search: Narrow search to specific collections or documents\n* Configurable Limits: Control the number of returned chunks (1-100)\n\nSearch Process:\n1. Semantic similarity matching against ingested document chunks\n2. Filtering based on provided context criteria\n3. Ranking by similarity scores (higher = more relevant)\n4. Optional expansion to include adjacent chunks for context\n\nNotes:\n* Higher scores indicate better semantic matches\n* The limit parameter caps the number of primary chunks, not including\n  adjacent ones\n* Expansion can increase response time but provides richer context\n* Use `/ingest/list` to see available collections and metadata","operationId":"chunks_retrieval_v1_chunks_post","requestBody":{"description":"Request body for semantic search of document chunks.\n\nContains text query for similarity search, context filtering options to narrow search scope, result limiting parameters, and expansion settings for retrieving adjacent chunks.\n\nThe request body defines search criteria and result formatting options for finding relevant document chunks based on semantic similarity.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunksBody"}}},"required":true},"responses":{"200":{"description":"Successful chunk retrieval","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunksResponse"},"examples":{"semantic_search_results":{"summary":"Successful semantic search with chunks","value":{"object":"list","model":"private-gpt","data":[{"object":"context.chunk","score":0.89,"document":{"object":"ingest.document","artifact":"q3_report","doc_metadata":{"title":"Q3 2023 Report","file_name":"Q3_Sales.pdf"}},"text":"Q3 sales increased by 25% compared to Q2, driven primarily by new customer acquisitions in the enterprise segment.","previous_texts":["Q2 comparison shows steady growth trends."],"next_texts":["Regional breakdown indicates strongest performance in North America."]},{"object":"context.chunk","score":0.76,"document":{"object":"ingest.document","artifact":"q3_report","doc_metadata":{"title":"Q3 2023 Report","page_number":5}},"text":"Sales performance metrics exceeded targets across all key verticals during the third quarter."}]}},"expanded_chunks":{"summary":"Chunks with adjacent context expansion","value":{"object":"list","model":"private-gpt","data":[{"object":"context.chunk","score":0.92,"document":{"object":"ingest.document","artifact":"financial_summary","doc_metadata":{"department":"sales"}},"text":"Third quarter revenue reached $2.4M with strong momentum.","previous_texts":["Q2 revenue was $1.9M, showing consistent growth.","Market conditions remained favorable throughout the quarter."],"next_texts":["Customer retention rates improved to 94%.","New customer acquisition costs decreased by 15%."]}]}}}}}},"401":{"description":"Unauthorized"},"422":{"description":"Validation Error - Invalid request parameters","content":{"application/json":{"examples":{"invalid_limit":{"summary":"Limit parameter out of range","value":{"detail":[{"loc":["body","limit"],"msg":"ensure this value is less than or equal to 100","type":"value_error.number.not_le"}]}},"empty_text_query":{"summary":"Missing text query","value":{"detail":[{"loc":["body","text"],"msg":"field required","type":"value_error.missing"}]}},"invalid_context_filter":{"summary":"Invalid context filter format","value":{"detail":[{"loc":["body","context_filter"],"msg":"Invalid context filter configuration","type":"value_error"}]}}}}}}}}},"/v1/content":{"post":{"tags":["Chunks","Chunks"],"summary":"Retrieve Full Document Content","description":"Retrieve the full content of filtered documents.\n\nThis endpoint provides access to complete document content rather than\nsemantic chunks. Use this when you need the entire context of documents\nrather than relevant excerpts.\n\nKey Features:\n* Full Content: Get complete documents rather than chunks\n* Filtered Retrieval: Select specific documents using metadata filters\n* Bulk Retrieval: Get multiple documents in one request\n* Original Formatting: Returns documents in their original text format\n\nNotes:\n* This endpoint returns unprocessed document content\n* Use specific filtering to avoid large response payloads\n* Content maintains original document structure and formatting","operationId":"content_retrieval_v1_content_post","requestBody":{"description":"Request body for retrieving full document content.\n\nContains context filtering options to select specific documents by collection, artifacts, and metadata criteria. Unlike chunk retrieval, this returns complete document content rather than excerpts.\n\nThe request body defines filtering criteria for bulk document content retrieval from the ingested knowledge base.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContentBody"}}},"required":true},"responses":{"200":{"description":"Successful content retrieval","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContentResponse"},"examples":{"full_documents":{"summary":"Complete document content retrieval","value":{"data":[{"artifact_id":"annual_report_2023","content":"ANNUAL REPORT 2023\n\nExecutive Summary\n\nFiscal year 2023 marked a transformative period for our organization with record-breaking performance across all key metrics...\n\n[Full document content continues...]"},{"artifact_id":"quarterly_summary_q4","content":"Q4 QUARTERLY SUMMARY\n\nQuarter Overview\n\nThe fourth quarter concluded our strongest year on record, with revenue growth of 34% year-over-year...\n\n[Full document content continues...]"}]}},"filtered_documents":{"summary":"Documents filtered by metadata","value":{"data":[{"artifact_id":"finance_report_dec","content":"DECEMBER FINANCIAL REPORT\n\nRevenue Analysis\n\nDecember revenue reached $850K, representing a 12% increase from November. Key drivers included enterprise sales and subscription renewals...\n\n[Full document content continues...]"}]}}}}}},"401":{"description":"Unauthorized"},"422":{"description":"Validation Error - Invalid request parameters","content":{"application/json":{"examples":{"missing_context_filter":{"summary":"Missing context filter","value":{"detail":[{"loc":["body","context_filter"],"msg":"field required","type":"value_error.missing"}]}},"invalid_collection":{"summary":"Invalid collection reference","value":{"detail":[{"loc":["body","context_filter","collection"],"msg":"Collection 'nonexistent' not found","type":"value_error"}]}}}}}}}}},"/v1/chunked-content":{"post":{"tags":["Chunks","Chunks"],"summary":"Retrieve Full Document Content in Chunks","description":"Retrieve full document content split into chat-optimized chunks.\n\nThis endpoint provides access to complete document content split into\nmanageable chunks suitable for chat interfaces. Unlike semantic chunk\nretrieval, this returns complete documents divided sequentially.\n\nKey Features:\n* Chat-Optimized Chunking: Documents split into conversational pieces\n* Token-Aware Splitting: Respects token limits for chat context management\n* Sequential Chunks: Maintains document order and narrative flow\n* Filtered Retrieval: Select specific documents using metadata filters\n* Token Limiting: Optional max_tokens parameter to control response size\n\nChunking Process:\n1. Retrieve filtered documents based on context criteria\n2. Split documents into chat-appropriate segments or max tokens\n3. Return structured chunks with metadata\n\nNotes:\n* Chunks maintain document structure and logical flow\n* Token limiting prevents context window overflow\n* Use `/chunks` endpoint for semantic search instead","operationId":"chunked_content_retrieval_v1_chunked_content_post","requestBody":{"description":"Request body for retrieving chunked document content.\n\nContains context filtering options to select specific documents by collection, artifacts, and metadata criteria, plus optional token limiting for chat optimization.\n\nThe request body defines filtering criteria and chunking parameters for retrieving documents split into chat-ready content blocks with citations.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContentBody"}}},"required":true},"responses":{"200":{"description":"Successful chunked content retrieval","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkedContentResponse"},"examples":{"chunked_documents":{"summary":"Complete documents split into chat chunks","value":{"data":[{"artifact_id":"annual_report_2023","content":[{"type":"text","text":"ANNUAL REPORT 2023\n\nExecutive Summary\n\nFiscal year 2023 marked a transformative period for our organization with record-breaking performance across all key metrics."},{"type":"text","text":"Revenue Analysis\n\nTotal revenue reached $12.4M, representing a 34% increase year-over-year. Growth was driven primarily by enterprise customer acquisition and subscription renewals."}]},{"artifact_id":"quarterly_summary_q4","content":[{"type":"text","text":"Q4 QUARTERLY SUMMARY\n\nQuarter Overview\n\nThe fourth quarter concluded our strongest year on record, with significant achievements in customer satisfaction and operational efficiency."}]}]}}}}}},"401":{"description":"Unauthorized"},"422":{"description":"Validation Error - Invalid request parameters","content":{"application/json":{"examples":{"missing_context_filter":{"summary":"Missing context filter","value":{"detail":[{"loc":["body","context_filter"],"msg":"field required","type":"value_error.missing"}]}},"invalid_max_tokens":{"summary":"Invalid max tokens parameter","value":{"detail":[{"loc":["body","max_tokens"],"msg":"ensure this value is greater than or equal to 1","type":"value_error.number.not_ge"}]}},"invalid_collection":{"summary":"Invalid collection reference","value":{"detail":[{"loc":["body","context_filter","collection"],"msg":"Collection 'nonexistent' not found","type":"value_error"}]}}}}}}}}},"/v1/ingest/file":{"post":{"tags":["Ingestion","Ingestion"],"summary":"Ingest File","description":"Ingest and process an uploaded file for use as context in AI operations","operationId":"ingest_file_v1_ingest_file_post","requestBody":{"description":"Multipart form data containing the file to be ingested along with artifact and collection identifiers","content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_ingest_file_v1_ingest_file_post","properties":{"file":{"type":"string","format":"binary","description":"Binary file content to be processed and ingested for AI context"},"artifact":{"type":"string","description":"Unique identifier for the file within the collection"},"collection":{"type":"string","description":"Collection name to group related documents","default":"pgpt_collection"}},"type":"object","required":["file","artifact"],"title":"IngestFileBody","description":"Multipart form data for file ingestion"},"example":{"file":"(binary content)","artifact":"quarterly_report_2024","collection":"financial_docs"}}},"required":true},"responses":{"200":{"description":"File successfully ingested and processed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestResponse"},"example":{"object":"list","model":"private-gpt","data":[{"object":"ingest.document","artifact":"quarterly_report","doc_metadata":{"file_name":"Q3_Report.pdf","page_number":1,"total_pages":10}}]}}}},"401":{"description":"Unauthorized"},"422":{"description":"Invalid file format or request parameters","content":{"application/json":{"example":{"detail":"File format not supported"}}}}}}},"/v1/ingest/text":{"post":{"tags":["Ingestion","Ingestion"],"summary":"Ingest Text","description":"Ingest raw text content for use as context in AI operations","operationId":"ingest_text_v1_ingest_text_post","requestBody":{"description":"JSON request body containing text content and metadata for ingestion processing","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestTextBody"},"example":{"artifact":"company_profile","collection":"corporate_docs","text":"Our company was founded in 2020 with a mission to innovate...","metadata":{"file_name":"company_profile.txt","author":"Marketing Team","version":"1.2"}}}},"required":true},"responses":{"200":{"description":"Text successfully ingested and processed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestResponse"},"example":{"object":"list","model":"private-gpt","data":[{"object":"ingest.document","artifact":"company_profile","doc_metadata":{"file_name":"company_profile.txt","author":"John Doe"}}]}}}},"401":{"description":"Unauthorized"},"422":{"description":"Invalid request parameters","content":{"application/json":{"example":{"detail":"Text content cannot be empty"}}}}}}},"/v1/ingest/uri":{"post":{"tags":["Ingestion","Ingestion"],"summary":"Ingest File from URI","description":"Ingest and process a file from a remote URI location","operationId":"ingest_uri_v1_ingest_uri_post","requestBody":{"description":"JSON request body containing URI location and metadata for remote file ingestion","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestUriBody"},"example":{"uri":"s3://company-docs/reports/annual-2023.pdf","artifact":"annual_report_2023","collection":"financial_reports","metadata":{"file_name":"annual-2023.pdf","year":"2023","type":"annual_report","department":"finance"}}}},"required":true},"responses":{"200":{"description":"File from URI successfully ingested and processed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestResponse"},"example":{"object":"list","model":"private-gpt","data":[{"object":"ingest.document","artifact":"annual_report_2023","doc_metadata":{"file_name":"annual-2023.pdf","year":"2023","type":"annual_report"}}]}}}},"401":{"description":"Unauthorized"},"422":{"description":"Invalid URI or request parameters","content":{"application/json":{"example":{"detail":"Invalid URI format or inaccessible resource"}}}},"404":{"description":"URI resource not found","content":{"application/json":{"example":{"detail":"The specified URI could not be accessed"}}}}}}},"/v1/ingest/list":{"get":{"tags":["Ingestion","Ingestion"],"summary":"List Ingested Documents","description":"Retrieve a list of all documents ingested into a specific collection","operationId":"list_ingested_v1_ingest_list_get","parameters":[{"name":"collection","in":"query","required":true,"schema":{"type":"string","description":"Name of the collection to list documents from","examples":["pgpt_collection","financial_reports","hr_documents"],"title":"Collection"}}],"responses":{"200":{"description":"Successfully retrieved document list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestResponse"},"example":{"object":"list","model":"private-gpt","data":[{"object":"ingest.document","artifact":"annual_report","doc_metadata":{"file_name":"2023_Annual.pdf","department":"finance","date":"2023-12-31"}},{"object":"ingest.document","artifact":"policy_manual","doc_metadata":{"file_name":"employee_policy.docx","department":"hr","version":"2.1"}}]}}}},"401":{"description":"Unauthorized"},"422":{"description":"Invalid collection name","content":{"application/json":{"example":{"detail":"Collection name is invalid"}}}}}}},"/v1/delete":{"post":{"tags":["Ingestion","Ingestion"],"summary":"Delete Ingested Document","description":"Remove a specific document and all its associated data from the system","operationId":"delete_ingested_v1_delete_post","requestBody":{"description":"JSON request body specifying the collection and artifact to be deleted from the system","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteIngestedDocumentBody"},"example":{"collection":"financial_reports","artifact":"q2_2023_report"}}},"required":true},"responses":{"200":{"description":"Document successfully deleted"},"401":{"description":"Unauthorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/async/ingest/uri":{"post":{"tags":["Ingestion","Ingestion"],"summary":"Ingest Files from URI Asynchronously","description":"Initiate asynchronous ingestion of a document from a remote URI location","operationId":"ingest_uri_async_v1_async_ingest_uri_post","requestBody":{"description":"JSON request body containing URI ingestion parameters and optional callback configuration for asynchronous processing notifications","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestUriAsyncBody"},"example":{"callback":{"amqp":{"exchange":"ingestion_events","routing_key_done":"ingest.completed","routing_key_error":"ingest.failed","routing_key_progress":"ingest.progress"}},"ingest_body":{"uri":"https://example.com/docs/report.pdf","artifact":"annual_report_2023","collection":"financial_reports","metadata":{"file_name":"annual_report_2023.pdf","department":"finance","year":"2023"}}}}},"required":true},"responses":{"200":{"description":"Successfully initiated ingestion task","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"},"example":{"task_id":"123e4567-e89b-12d3-a456-426614174000"}}}},"401":{"description":"Unauthorized"},"422":{"description":"Invalid URI or request parameters","content":{"application/json":{"example":{"detail":"URI format is invalid or parameters are missing"}}}},"404":{"description":"URI resource not accessible","content":{"application/json":{"example":{"detail":"The URI resource could not be accessed"}}}}}}},"/v1/ingest/tasks/{task_id}":{"get":{"tags":["Ingestion","Ingestion"],"summary":"Check Ingestion Task Status","description":"Retrieve the current status and results of an asynchronous ingestion task","operationId":"get_ingest_async_status_v1_ingest_tasks__task_id__get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","description":"Unique identifier of the ingestion task to check status for","examples":["123e4567-e89b-12d3-a456-426614174000"],"title":"Task Id"}}],"responses":{"200":{"description":"Successfully retrieved task status and results","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskStatus_IngestResponse_"},"examples":{"completed_task":{"summary":"Completed ingestion task with results","value":{"task_id":"123e4567-e89b-12d3-a456-426614174000","task_status":"SUCCESS","task_result":{"object":"list","model":"private-gpt","data":[{"object":"ingest.document","artifact":"annual_report","doc_metadata":{"file_name":"report.pdf","page_count":45,"department":"finance"}}]}}},"pending_task":{"summary":"Task still in progress","value":{"task_id":"456e7890-e89b-12d3-a456-426614174001","task_status":"PENDING"}},"failed_task":{"summary":"Failed ingestion task with error","value":{"task_id":"789e0123-e89b-12d3-a456-426614174002","task_status":"FAILURE","task_result":"File format not supported or URI inaccessible"}}}}}},"401":{"description":"Unauthorized"},"404":{"description":"Task not found or expired","content":{"application/json":{"example":{"detail":"Task with specified ID not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/async/delete":{"post":{"tags":["Ingestion","Ingestion"],"summary":"Delete Document Asynchronously","description":"Initiates asynchronous deletion of a document and all associated data.\n\nThis endpoint queues a deletion task for background processing, making it\nsuitable for large documents or when non-blocking operation is required.\nThe task can be monitored using the returned task ID.\n\nIf an ingestion task is currently running for the same document, it will\nbe automatically revoked before initiating the deletion.","operationId":"delete_ingested_async_v1_async_delete_post","requestBody":{"description":"JSON request body containing deletion parameters and optional callback configuration for asynchronous processing notifications","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteIngestedDocumentAsyncBody"},"example":{"callback":{"amqp":{"exchange":"deletion_events","routing_key_done":"delete.completed","routing_key_error":"delete.failed","routing_key_progress":"delete.progress"}},"delete_body":{"collection":"financial_reports","artifact":"obsolete_report_2022"}}}},"required":true},"responses":{"200":{"description":"Successfully initiated deletion task","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}}},"401":{"description":"Unauthorized"},"422":{"description":"Invalid request parameters"}}}},"/v1/delete/tasks/{task_id}":{"get":{"tags":["Ingestion","Ingestion"],"summary":"Check Deletion Task Status","description":"Retrieve the current status of an asynchronous deletion task","operationId":"get_delete_async_status_v1_delete_tasks__task_id__get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","description":"Unique identifier of the deletion task to check status for","examples":["123e4567-e89b-12d3-a456-426614174000"],"title":"Task Id"}}],"responses":{"200":{"description":"Successfully retrieved task status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskStatus_NoneType_"},"examples":{"completed_deletion":{"summary":"Completed deletion task","value":{"task_id":"123e4567-e89b-12d3-a456-426614174000","task_status":"SUCCESS"}},"pending_deletion":{"summary":"Deletion task in progress","value":{"task_id":"456e7890-e89b-12d3-a456-426614174001","task_status":"PENDING"}},"failed_deletion":{"summary":"Failed deletion task","value":{"task_id":"789e0123-e89b-12d3-a456-426614174002","task_status":"FAILURE","task_result":"Document not found in collection"}}}}}},"401":{"description":"Unauthorized"},"404":{"description":"Task not found or expired","content":{"application/json":{"example":{"detail":"Task with specified ID not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/embeddings":{"post":{"tags":["Embeddings","Embeddings"],"summary":"Generate embeddings for text input","description":"Generate vector embeddings from input text.\n\nThis endpoint converts text into high-dimensional vector representations\nthat capture semantic meaning. These embeddings preserve semantic\nrelationships between texts and can be used for various machine learning\ntasks.\n\nNotes:\n* Empty strings or arrays are not accepted\n* Results include index numbers for mapping back to original inputs\n* All embeddings are generated as query vectors. If the embeddings have two modes\n(e.g., query and document), this endpoint only returns query vectors.","operationId":"embeddings_generation_v1_embeddings_post","requestBody":{"description":"Request body for generating vector embeddings from text.\n\nContains input text(s) to be converted into high-dimensional vector representations. Supports both single string input and batch processing with arrays of strings for efficient embedding generation.\n\nThe request body defines text input and processing options for generating semantic embeddings that capture meaning and relationships between texts.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsBody"}}},"required":true},"responses":{"200":{"description":"Successfully generated embeddings","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsResponse"},"examples":{"single_text_embedding":{"summary":"Embedding for single text input","value":{"object":"list","model":"private-gpt","data":[{"index":0,"object":"embedding","embedding":[0.123,-0.456,0.789,0.234,-0.567,0.891,-0.123,0.445,-0.678,0.901]}]}},"multiple_text_embeddings":{"summary":"Embeddings for multiple text inputs","value":{"object":"list","model":"private-gpt","data":[{"index":0,"object":"embedding","embedding":[0.234,-0.567,0.123,0.678,-0.234,0.456,-0.789,0.345,-0.123,0.567]},{"index":1,"object":"embedding","embedding":[-0.123,0.456,-0.789,0.234,0.567,-0.345,0.678,-0.234,0.789,-0.456]},{"index":2,"object":"embedding","embedding":[0.567,-0.234,0.789,-0.456,0.123,0.678,-0.345,0.234,-0.567,0.891]}]}},"semantic_similarity_example":{"summary":"Embeddings for semantic similarity comparison","value":{"object":"list","model":"private-gpt","data":[{"index":0,"object":"embedding","embedding":[0.445,0.223,-0.667,0.112,0.889,-0.334,0.556,-0.778,0.223,0.445]},{"index":1,"object":"embedding","embedding":[0.434,0.234,-0.656,0.123,0.878,-0.345,0.567,-0.789,0.234,0.456]}]}}}}}},"401":{"description":"Unauthorized"},"422":{"description":"Validation Error - Invalid input format","content":{"application/json":{"examples":{"missing_input":{"summary":"Missing input field","value":{"detail":[{"loc":["body","input"],"msg":"field required","type":"value_error.missing"}]}},"empty_input":{"summary":"Empty input provided","value":{"detail":[{"loc":["body","input"],"msg":"Input text cannot be empty","type":"value_error"}]}},"invalid_input_type":{"summary":"Invalid input data type","value":{"detail":[{"loc":["body","input"],"msg":"Input must be a string or array of strings","type":"type_error"}]}},"empty_array":{"summary":"Empty array provided","value":{"detail":[{"loc":["body","input"],"msg":"Input array cannot be empty","type":"value_error"}]}}}}}}}}},"/v1/tools/semantic-search":{"post":{"tags":["Tools"],"summary":"Semantic Search","description":"Run a semantic search using natural language and contextual filters. Supports citation formatting.","operationId":"semantic_search_v1_tools_semantic_search_post","requestBody":{"description":"Request body for semantic search. Includes the query, optional filters, and response formatting preferences.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SemanticSearchBody"}}},"required":true},"responses":{"200":{"description":"Semantic search completed successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolResponse"},"examples":{"rich_semantic_response":{"summary":"Search result with sources","value":{"content":[{"type":"source","sources":[{"object":"context.chunk","id":"d3ab07fe-b7ab-4fda-8524-1cb41b01200a","score":0.83,"document":{"object":"ingest.document","artifact":"0196ee69-666a-7bcd-800b-b01fa9b2f24c","doc_metadata":{"file_name":"dense_x_retrieval.pdf"}},"text":"Wenhao Yu et al. 2023. Chain-ofnote: Enhancing robustness in retrieval-augmented LMs.","content_type":"text/markdown","metadata":{"page":13,"shorter_id":"GONG"},"previous_texts":[],"next_texts":[]}]},{"type":"text","text":"**Context Information**:\nCitation identifier [GONG]\n---\nContent:\nWenhao Yu, Hongming Zhang... Chain-ofnote: Enhancing robustness in retrieval-augmented language models."}],"is_error":false}}}}}},"401":{"description":"Unauthorized"},"422":{"description":"Validation Error - Invalid request parameters","content":{"application/json":{"examples":{"missing_query":{"summary":"Missing query field","value":{"detail":[{"loc":["body","query"],"msg":"field required","type":"value_error.missing"}]}},"invalid_format":{"summary":"Invalid format value","value":{"detail":[{"loc":["body","format"],"msg":"value is not a valid enumeration member; permitted: 'default', 'citations'","type":"type_error.enum"}]}}}}}}}}},"/v1/tools/tabular-data-analysis":{"post":{"tags":["Tools"],"summary":"Tabular Data Analysis","description":"Analyze structured tabular data using a natural language query.","operationId":"tabular_data_analysis_v1_tools_tabular_data_analysis_post","requestBody":{"description":"Request body for analyzing tabular data using a natural language query. Includes filters to scope the documents containing structured data.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TabularDataAnalysisBody"}}},"required":true},"responses":{"200":{"description":"Tabular analysis completed successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolResponse"},"examples":{"successful_analysis":{"summary":"Simple text result from tabular analysis","value":{"content":[{"type":"text","text":"Average revenue across departments: Sales - $1.2M, Marketing - $850K..."}],"is_error":false}},"text_and_image_output":{"summary":"Text + image result from tabular analysis","value":{"content":[{"type":"text","text":"The bar chart shows that Q4 revenue was highest in the Sales department."},{"type":"image","data":"iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==","mime_type":"image/png"}],"is_error":false}}}}}},"401":{"description":"Unauthorized"},"422":{"description":"Validation Error - Invalid request parameters","content":{"application/json":{"examples":{"missing_query":{"summary":"Missing analysis query","value":{"detail":[{"loc":["body","query"],"msg":"field required","type":"value_error.missing"}]}}}}}}}}}},"components":{"schemas":{"AMQP":{"properties":{"exchange":{"type":"string","title":"Exchange","description":"AMQP exchange name where task notifications will be published","examples":["ingest"]},"routing_key_done":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Routing Key Done","description":"Routing key used when publishing task completion notifications","examples":["ingest.done"]},"routing_key_progress":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Routing Key Progress","description":"Routing key used when publishing task progress update notifications","examples":["ingest.progress"]},"routing_key_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Routing Key Error","description":"Routing key used when publishing task error notifications","examples":["ingest.error"]}},"type":"object","required":["exchange"],"title":"AMQP","description":"AMQP configuration for message queue notifications."},"AudioBlock-Input":{"properties":{"type":{"type":"string","enum":["audio"],"const":"audio","title":"Type","description":"Content block type identifier for audio content","default":"audio"},"start_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Timestamp","description":"ISO timestamp when content block generation started"},"stop_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Stop Timestamp","description":"ISO timestamp when content block generation completed"},"_meta":{"type":"object","title":" Meta","description":"Additional metadata associated with this content block"},"data":{"type":"string","title":"Data","description":"Base64-encoded audio data"},"mime_type":{"type":"string","title":"Mime Type","description":"MIME type of the audio (e.g., 'audio/mpeg', 'audio/wav')"}},"type":"object","required":["data","mime_type"],"title":"AudioBlock","description":"Audio content block containing audio media."},"AudioBlock-Output":{"type":"object","title":"AudioBlock","description":"Audio content block containing audio media."},"Body_ingest_file_v1_ingest_file_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Binary file content to be processed and ingested for AI context"},"artifact":{"type":"string","title":"Artifact","description":"Unique identifier for the file within the collection"},"collection":{"type":"string","title":"Collection","description":"Collection name to group related documents","default":"pgpt_collection"}},"type":"object","required":["file","artifact"],"title":"Body_ingest_file_v1_ingest_file_post"},"Callback":{"properties":{"amqp":{"$ref":"#/components/schemas/AMQP","description":"AMQP (Advanced Message Queuing Protocol) configuration for task status notifications","examples":[{"exchange":"ingest","routing_key_done":"ingest.done","routing_key_error":"ingest.error"}]},"properties":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Properties","description":"Additional properties and metadata to include with callback notifications","examples":[{"key":"value"}]}},"type":"object","required":["amqp"],"title":"Callback","description":"Callback configuration for asynchronous task notifications."},"ChatBody":{"properties":{"messages":{"items":{"$ref":"#/components/schemas/MessageInput"},"type":"array","title":"Messages","description":"Array of messages composing the chat conversation.\n        Each message should have a 'role' (user, or assistant) and 'content'."},"tools":{"anyOf":[{"items":{"$ref":"#/components/schemas/ToolSpec"},"type":"array"},{"type":"null"}],"title":"Tools","description":"List of tools to use for the response."},"tool_choice":{"$ref":"#/components/schemas/ToolChoice","description":"Define how the model should choose tools for the response. ","default":{"type":"auto","disable_parallel_tool_use":false}},"tool_context":{"type":"object","title":"Tool Context","description":"Args to pass to the tool when it is called directly to the function without pass through the model."},"mcp_servers":{"items":{"$ref":"#/components/schemas/McpServerConfig"},"type":"array","title":"Mcp Servers","description":"List of MCP servers to use for tool retrieval. Each server can have its own configuration."},"response_format":{"$ref":"#/components/schemas/ResponseFormat","description":"Format of the response. Can be text, json_schema, or tool call.","default":{"type":"text"}},"system":{"$ref":"#/components/schemas/System","description":"System message configuration, including default prompt and citations.","default":{"use_default_prompt":false,"citations":{"enabled":false}}},"thinking":{"$ref":"#/components/schemas/Thinking","description":"Thinking configuration, enabling reasoning capabilities for the model.","default":{"enabled":false}},"priority":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Priority","description":"Priority of the request, used for prioritizing responses."},"seed":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Seed","description":"Random seed for reproducibility."},"min_p":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Min P","description":"Minimum probability threshold for token selection. Tokens with probability below this value are filtered out."},"top_p":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Top P","description":"Nucleus sampling parameter. Only tokens with cumulative probability up to this value are considered."},"temperature":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Temperature","description":"Controls randomness in generation. Higher values make output more random, lower values more deterministic."},"top_k":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Top K","description":"Limits token selection to the top K most likely tokens at each step."},"repetition_penalty":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Repetition Penalty","description":"Penalty applied to tokens that have already appeared in the sequence to reduce repetition."},"presence_penalty":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Presence Penalty","description":"Penalty applied based on whether a token has appeared in the text, encouraging topic diversity."},"frequency_penalty":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Frequency Penalty","description":"Penalty applied based on how frequently a token appears in the text, reducing repetitive content."},"max_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Tokens","description":"Maximum number of tokens to generate in the response."},"correlation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Correlation Id","description":"Correlation ID for tracking the request across systems."},"stream":{"type":"boolean","title":"Stream","description":"When true, returns partial progress as data chunks","default":false}},"type":"object","required":["messages"],"title":"ChatBody","description":"Request body for chat completions with multi-turn conversation support"},"Chunk":{"properties":{"object":{"type":"string","enum":["context.chunk"],"const":"context.chunk","title":"Object","description":"Object type identifier, always 'context.chunk' for chunk responses"},"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id","description":"Unique identifier for the chunk within the document","examples":["chunk_123e4567-e89b-12d3-a456-426614174000","doc_page_1_chunk_3"]},"score":{"type":"number","maximum":1.01,"minimum":-0.01,"title":"Score","description":"Relevance score indicating how well this chunk matches the query (0.0 to 1.0, higher is better)","examples":[0.023,0.856,0.342]},"document":{"$ref":"#/components/schemas/IngestedDoc","description":"Reference to the parent document containing metadata and ingestion information"},"text":{"type":"string","title":"Text","description":"The actual text content of the chunk extracted from the document","examples":["Outbound sales increased 20%, driven by new leads.","The quarterly financial report shows significant growth in the technology sector.","Avatar is set in an Asian and Arctic-inspired world where some people can manipulate elements."]},"content_type":{"type":"string","title":"Content Type","description":"MIME type indicating the format of the chunk content","default":"text/plain","examples":["text/plain","text/html","text/markdown","application/json"]},"previous_texts":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Previous Texts","description":"List of text chunks that appear before this chunk in the document, providing preceding context","examples":[["SALES REPORT 2023","Inbound didn't show major changes."],["Chapter 1: Introduction","Our company mission is to innovate."],null]},"next_texts":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Next Texts","description":"List of text chunks that appear after this chunk in the document, providing following context","examples":[["New leads came from Google Ads campaign.","The campaign was run by the Marketing Department"],["The next quarter will focus on customer retention.","Budget allocation has been approved."],null]},"metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata about the chunk including positioning information and document properties","examples":[{"abs_idx":5,"author":"John Doe","date":"2023-01-01","rel_idx":2,"title":"Sales Report 2023"},{"abs_idx":12,"file_name":"quarterly_report.pdf","page_number":3,"rel_idx":0,"section":"Financial Overview"},null]}},"type":"object","required":["object","score","document","text"],"title":"Chunk","description":"Represents a chunk of text content from an ingested document.","examples":[{"content_type":"text/plain","document":{"artifact":"quarterly_report_q3","doc_metadata":{"department":"finance","file_name":"Q3_Financial_Report.pdf","page_number":5},"object":"ingest.document"},"id":"chunk_123e4567-e89b-12d3-a456-426614174000","metadata":{"abs_idx":8,"author":"Finance Team","date":"2023-10-15","rel_idx":3,"section":"Revenue Analysis","title":"Q3 Financial Report"},"next_texts":["The technology sector contributed 60% of total growth.","Marketing expenses remained within budget projections."],"object":"context.chunk","previous_texts":["Q3 FINANCIAL SUMMARY","This report covers the third quarter performance metrics."],"score":0.856,"text":"Revenue increased by 15% compared to the previous quarter, primarily driven by strong performance in the technology sector."}]},"ChunkedContentDocumentResponse":{"properties":{"artifact_id":{"type":"string","title":"Artifact Id","description":"Identifier of the document"},"content":{"items":{"anyOf":[{"$ref":"#/components/schemas/TextBlock-Output"},{"$ref":"#/components/schemas/ImageBlock-Output"},{"$ref":"#/components/schemas/AudioBlock-Output"},{"$ref":"#/components/schemas/ResourceLinkBlock-Output"},{"$ref":"#/components/schemas/ResourceBlock-Output"},{"$ref":"#/components/schemas/SourceBlock-Output"},{"$ref":"#/components/schemas/ToolUseBlock-Output"},{"$ref":"#/components/schemas/ThinkingBlock-Output"},{"$ref":"#/components/schemas/TLDRBlock-Output"}]},"type":"array","title":"Content","description":"Chunked content of the document, split into manageable pieces"}},"type":"object","required":["artifact_id","content"],"title":"ChunkedContentDocumentResponse","description":"Response model for chunked document content."},"ChunkedContentResponse":{"properties":{"data":{"items":{"$ref":"#/components/schemas/ChunkedContentDocumentResponse"},"type":"array","title":"Data","description":"List of documents with their content split into chunks for chat usage"}},"type":"object","required":["data"],"title":"ChunkedContentResponse","description":"Response containing chunked document content for chat usage."},"ChunksBody":{"properties":{"text":{"type":"string","title":"Text","description":"The text query to find relevant chunks","examples":["Q3 2023 sales"]},"context_filter":{"$ref":"#/components/schemas/ContextFilter","description":"Filter to select specific context from ingested documents. Can filter by collection, artifacts, and metadata."},"limit":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Limit","description":"Maximum number of chunks to return","default":10},"expand":{"type":"boolean","title":"Expand","description":"Whether to include adjacent chunks for more context","default":false}},"type":"object","required":["text","context_filter"],"title":"ChunksBody","description":"Request body for semantic search of document chunks."},"ChunksResponse":{"properties":{"object":{"type":"string","enum":["list"],"const":"list","title":"Object","description":"Response object type identifier","default":"list"},"model":{"type":"string","enum":["private-gpt"],"const":"private-gpt","title":"Model","description":"Model identifier used for chunk retrieval","default":"private-gpt"},"data":{"items":{"$ref":"#/components/schemas/Chunk"},"type":"array","title":"Data","description":"List of relevant chunks with their metadata and scores"}},"type":"object","required":["data"],"title":"ChunksResponse","description":"Response containing semantically relevant document chunks."},"Citations":{"properties":{"enabled":{"type":"boolean","title":"Enabled","description":"Enable citations in responses","default":false},"known_citations":{"anyOf":[{"items":{"$ref":"#/components/schemas/ZylonCitation"},"type":"array"},{"type":"null"}],"title":"Known Citations","description":"List of known citations to use in the response"}},"type":"object","title":"Citations","description":"Configuration for citation generation in AI responses."},"ContentBody":{"properties":{"context_filter":{"$ref":"#/components/schemas/ContextFilter","description":"Filter to select documents to retrieve. Supports filtering by collection, artifacts, and metadata."},"max_tokens":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Max Tokens","description":"Maximum number of tokens to return in the content. If not set, returns full content of the documents."}},"type":"object","required":["context_filter"],"title":"ContentBody","description":"Request body for retrieving full document content with filtering options."},"ContentDocumentResponse":{"properties":{"artifact_id":{"type":"string","title":"Artifact Id","description":"Identifier of the document"},"content":{"type":"string","title":"Content","description":"Full text content of the document"}},"type":"object","required":["artifact_id","content"],"title":"ContentDocumentResponse","description":"Individual document response with full content."},"ContentResponse":{"properties":{"data":{"items":{"$ref":"#/components/schemas/ContentDocumentResponse"},"type":"array","title":"Data","description":"List of documents with their full content"}},"type":"object","required":["data"],"title":"ContentResponse","description":"Response containing full document content for filtered documents."},"ContextFilter":{"properties":{"collection":{"type":"string","title":"Collection","description":"The name of the collection to filter on.","default":"pgpt_collection","examples":["collection_name"]},"artifacts":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Artifacts","description":"Artifacts ids to filter on.","examples":[["artifact_id_1, artifact_id_2"]]},"metadata_filter":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Metadata Filter","description":"Metadata filter to apply on the context.","examples":[[{"key":"file_id","operator":"==","value":"artifact_id_1"}]]}},"type":"object","title":"ContextFilter","description":"Filter by collection, artifacts and metadata in the ingested context.\n\nThe main filter is the collection the context is part of.\n\nAll artifacts ids are ensured to be part of the context. If any of the ids is not\nusable in the context (i.e. doesn't exist), the related task will fail.\n\nThe metadata filter will look for all context matching the metadata, if any, and\nadd it to the context. The filter is a dictionary of key-value pairs.\nThe key is the metadata key, and the value is the metadata value.\n\nIf both artifacts and metadata filters are provided, the result will be the\nintersection of the two filters."},"DeleteIngestedDocumentAsyncBody":{"properties":{"callback":{"anyOf":[{"$ref":"#/components/schemas/Callback"},{"type":"null"}],"description":"Optional callback configuration for receiving asynchronous task notifications","examples":[{"amqp":{"exchange":"ingest","routing_key_done":"ingest.done","routing_key_error":"ingest.error"},"properties":{"key":"value"}}]},"delete_body":{"$ref":"#/components/schemas/DeleteIngestedDocumentBody","description":"Document deletion parameters including collection and artifact identifiers"}},"type":"object","required":["delete_body"],"title":"DeleteIngestedDocumentAsyncBody","description":"Request body for asynchronous document deletion.","examples":[{"callback":{"amqp":{"exchange":"deletion_events","routing_key_done":"delete.completed","routing_key_error":"delete.failed","routing_key_progress":"delete.progress"}},"delete_body":{"artifact":"obsolete_report_2022","collection":"financial_reports"}}]},"DeleteIngestedDocumentBody":{"properties":{"collection":{"type":"string","maxLength":255,"minLength":1,"title":"Collection","description":"Name of the collection containing the document to be deleted","examples":["financial_reports","hr_documents"]},"artifact":{"type":"string","maxLength":255,"minLength":1,"title":"Artifact","description":"Unique identifier of the document to delete from the specified collection","examples":["quarterly_report_q1","employee_handbook_2024"]}},"type":"object","required":["collection","artifact"],"title":"DeleteIngestedDocumentBody","description":"Request body for deleting specific ingested documents from the system.","examples":[{"artifact":"q2_2023_report","collection":"financial_reports"},{"artifact":"outdated_policy_manual","collection":"hr_documents"}]},"Embedding":{"properties":{"index":{"type":"integer","title":"Index","description":"Sequential index of this embedding in the batch, starting from 0","examples":[0,1,2]},"object":{"type":"string","enum":["embedding"],"const":"embedding","title":"Object","description":"Type identifier for this object, always 'embedding'","default":"embedding"},"embedding":{"items":{"type":"number"},"type":"array","title":"Embedding","description":"High-dimensional vector representation of the text content as a list of floating-point numbers","examples":[[0.0023064255,-0.009327292,0.0156234,-0.0087456]]}},"type":"object","required":["index","embedding"],"title":"Embedding","description":"Represents a vector embedding for a piece of text content.","examples":[{"embedding":[0.0023064255,-0.009327292,0.0156234,-0.0087456,0.0234567],"index":0,"object":"embedding"},{"embedding":[-0.0045123,0.0167845,-0.0098234,0.0134567,-0.0076543],"index":1,"object":"embedding"}]},"EmbeddingsBody":{"properties":{"input":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"}],"title":"Input","description":"The text(s) to generate embeddings for. Can be a single string or an array of strings. Each text should be a meaningful unit of text (sentence, paragraph, etc).","examples":["The quick brown fox jumps over the lazy dog"]}},"type":"object","required":["input"],"title":"EmbeddingsBody","description":"Request body for generating vector embeddings from text input.","examples":[{"input":"The quick brown fox jumps over the lazy dog"},{"input":["Machine learning is fascinating","Neural networks process data efficiently","Embeddings represent text as vectors"]}]},"EmbeddingsResponse":{"properties":{"object":{"type":"string","enum":["list"],"const":"list","title":"Object","description":"The type of object returned","default":"list"},"model":{"type":"string","enum":["private-gpt"],"const":"private-gpt","title":"Model","description":"The model used to generate embeddings","default":"private-gpt"},"data":{"items":{"$ref":"#/components/schemas/Embedding"},"type":"array","title":"Data","description":"List of embeddings, one for each input text"}},"type":"object","required":["data"],"title":"EmbeddingsResponse","description":"Response containing generated embeddings for input text(s)."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ImageBlock-Input":{"properties":{"type":{"type":"string","enum":["image"],"const":"image","title":"Type","description":"Content block type identifier for image content","default":"image"},"start_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Timestamp","description":"ISO timestamp when content block generation started"},"stop_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Stop Timestamp","description":"ISO timestamp when content block generation completed"},"_meta":{"type":"object","title":" Meta","description":"Additional metadata associated with this content block"},"data":{"type":"string","title":"Data","description":"Base64-encoded image data"},"mime_type":{"type":"string","title":"Mime Type","description":"MIME type of the image (e.g., 'image/png', 'image/jpeg')"}},"type":"object","required":["data","mime_type"],"title":"ImageBlock","description":"Image content block containing visual media."},"ImageBlock-Output":{"type":"object","title":"ImageBlock","description":"Image content block containing visual media."},"IngestResponse":{"properties":{"object":{"type":"string","enum":["list"],"const":"list","title":"Object","description":"Response object type, always 'list' for ingestion responses"},"model":{"type":"string","enum":["private-gpt"],"const":"private-gpt","title":"Model","description":"Model identifier, always 'private-gpt'"},"data":{"items":{"$ref":"#/components/schemas/IngestedDoc"},"type":"array","title":"Data","description":"List of ingested documents with their metadata and processing information"}},"type":"object","required":["object","model","data"],"title":"IngestResponse","description":"Response model for successful document ingestion operations.","examples":[{"data":[{"artifact":"quarterly_report_q1","doc_metadata":{"department":"finance","file_name":"Q1_Report.pdf","page_number":1,"total_pages":15},"object":"ingest.document"}],"model":"private-gpt","object":"list"}]},"IngestTextBody":{"properties":{"artifact":{"type":"string","maxLength":255,"minLength":1,"title":"Artifact","description":"Unique identifier for the text being ingested within the collection","examples":["user_manual_chapter_1","policy_document_2024"]},"collection":{"type":"string","maxLength":255,"minLength":1,"title":"Collection","description":"Collection name to group related documents for better organization and filtering","default":"pgpt_collection","examples":["corporate_docs","user_manuals","financial_reports"]},"text":{"type":"string","minLength":1,"title":"Text","description":"The raw text content to be processed and ingested into the system","examples":["Avatar is set in an Asian and Arctic-inspired world in which some people can telekinetically manipulate one of the four elements—water, earth, fire or air—through practices known as 'bending', inspired by Chinese martial arts."]},"metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata","description":"Optional metadata dictionary containing additional document information. If provided, must include 'file_name' with a valid file extension","examples":[{"author":"John Doe","department":"HR","file_name":"company_policy.txt"},{"file_name":"manual_section.txt","last_updated":"2024-01-15","version":"2.1"}]}},"type":"object","required":["artifact","text"],"title":"IngestTextBody","description":"Request body for ingesting text content into the system for AI context.","examples":[{"artifact":"company_mission_statement","collection":"corporate_docs","metadata":{"author":"CEO","created_date":"2024-01-01","department":"Executive","file_name":"mission_statement.txt"},"text":"Our mission is to democratize access to artificial intelligence through secure, private, and user-controlled AI systems that respect data sovereignty and privacy."},{"artifact":"product_description","collection":"marketing_materials","metadata":{"file_name":"product_desc.txt","target_audience":"enterprise","version":"1.0"},"text":"Introducing our flagship AI assistant that runs entirely on your infrastructure, ensuring complete data privacy and control."}]},"IngestUriAsyncBody":{"properties":{"callback":{"anyOf":[{"$ref":"#/components/schemas/Callback"},{"type":"null"}],"description":"Optional callback configuration for receiving asynchronous task notifications","examples":[{"amqp":{"exchange":"ingest","routing_key_done":"ingest.done","routing_key_error":"ingest.error"},"properties":{"key":"value"}}]},"ingest_body":{"$ref":"#/components/schemas/IngestUriBody","description":"URI ingestion parameters and metadata for the file to be processed asynchronously"}},"type":"object","required":["ingest_body"],"title":"IngestUriAsyncBody","description":"Request body for asynchronous URI ingestion.","examples":[{"callback":{"amqp":{"exchange":"ingestion_events","routing_key_done":"ingest.completed","routing_key_error":"ingest.failed","routing_key_progress":"ingest.progress"}},"ingest_body":{"artifact":"large_document_2024","collection":"technical_docs","metadata":{"file_name":"large-document.pdf","pages":120,"size_mb":45},"uri":"https://example.com/large-document.pdf"}}]},"IngestUriBody":{"properties":{"uri":{"type":"string","title":"Uri","description":"URI location of the file to download and ingest. Supports various protocols (HTTP, HTTPS, S3, etc.)","examples":["https://example.com/documents/report.pdf","s3://company-bucket/reports/quarterly-2024.docx"]},"artifact":{"type":"string","maxLength":255,"minLength":1,"title":"Artifact","description":"Unique identifier for the file being ingested within the collection","examples":["quarterly_report_q1","employee_handbook_2024"]},"collection":{"type":"string","maxLength":255,"minLength":1,"title":"Collection","description":"Collection name to group related documents for better organization and filtering","examples":["financial_reports","hr_documents","technical_docs"]},"metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata","description":"Optional metadata dictionary containing additional document information. Must include 'file_name' with a valid file extension when provided","examples":[{"department":"finance","file_name":"Q1_report.pdf","quarter":"Q1"},{"effective_date":"2024-01-01","file_name":"handbook.docx","version":"3.2"}]}},"type":"object","required":["uri","artifact","collection"],"title":"IngestUriBody","description":"Request body for ingesting files from remote URI locations.","examples":[{"artifact":"annual_report_2023","collection":"financial_reports","metadata":{"department":"finance","file_name":"annual-2023.pdf","type":"annual_report","year":"2023"},"uri":"https://cdn.example.com/reports/annual-2023.pdf"},{"artifact":"employee_handbook_v2","collection":"hr_documents","metadata":{"department":"HR","effective_date":"2024-06-01","file_name":"employee-handbook-v2.docx","version":"2.0"},"uri":"s3://company-docs/policies/employee-handbook-v2.docx"}]},"IngestedDoc":{"properties":{"object":{"type":"string","enum":["ingest.document"],"const":"ingest.document","title":"Object","description":"Type of the object, indicating this is an ingested document.","default":"ingest.document"},"artifact":{"type":"string","title":"Artifact","description":"Unique identifier for the ingested document artifact.","examples":["artifact_id_1"]},"doc_metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Doc Metadata","description":"Metadata associated with the ingested document, such as title, author, and other","examples":[{"file_name":"Sales Report Q3 2023.pdf","title":"Sales Report Q3 2023"}]}},"type":"object","required":["artifact"],"title":"IngestedDoc","description":"Represents a document that has been ingested into the system."},"McpServerConfig":{"properties":{"url":{"type":"string","title":"Url","description":"The URL of the MCP server to connect to."},"tool_configuration":{"$ref":"#/components/schemas/McpServerToolConfig","description":"Configuration for tool filtering from the MCP server"}},"type":"object","required":["url"],"title":"McpServerConfig","description":"Configuration for the MCP server."},"McpServerToolConfig":{"properties":{"enabled":{"type":"boolean","title":"Enabled","description":"Enable tool filtering for the MCP server.","default":true},"allowed_tools":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Tools","description":"List of enabled tools to filter from the MCP server."}},"type":"object","title":"McpServerToolConfig","description":"Configuration for tool filtering from the MCP server."},"MessageInput":{"properties":{"role":{"type":"string","enum":["assistant","user"],"title":"Role","description":"The role of the message sender","default":"user"},"content":{"anyOf":[{"type":"string"},{"items":{"anyOf":[{"$ref":"#/components/schemas/TextBlock-Input"},{"$ref":"#/components/schemas/ImageBlock-Input"},{"$ref":"#/components/schemas/AudioBlock-Input"},{"$ref":"#/components/schemas/ResourceLinkBlock-Input"},{"$ref":"#/components/schemas/ResourceBlock-Input"},{"$ref":"#/components/schemas/SourceBlock-Input"},{"$ref":"#/components/schemas/ToolUseBlock-Input"},{"$ref":"#/components/schemas/ThinkingBlock-Input"},{"$ref":"#/components/schemas/TLDRBlock-Input"},{"$ref":"#/components/schemas/ToolResultBlock"}]},"type":"array"},{"type":"null"}],"title":"Content","description":"The message content"}},"type":"object","required":["content"],"title":"MessageInput","description":"Input message for AI conversations."},"MessageOutput":{"properties":{"id":{"type":"string","title":"Id","description":"Unique identifier for this message response"},"type":{"type":"string","enum":["message"],"const":"message","title":"Type","description":"Response type identifier indicating this is a message response","default":"message"},"role":{"type":"string","enum":["assistant"],"const":"assistant","title":"Role","description":"The role of the response sender, always 'assistant' for AI responses","default":"assistant"},"content":{"items":{"anyOf":[{"$ref":"#/components/schemas/TextBlock-Input"},{"$ref":"#/components/schemas/ImageBlock-Input"},{"$ref":"#/components/schemas/AudioBlock-Input"},{"$ref":"#/components/schemas/ResourceLinkBlock-Input"},{"$ref":"#/components/schemas/ResourceBlock-Input"},{"$ref":"#/components/schemas/SourceBlock-Input"},{"$ref":"#/components/schemas/ToolUseBlock-Input"},{"$ref":"#/components/schemas/ThinkingBlock-Input"},{"$ref":"#/components/schemas/TLDRBlock-Input"},{"$ref":"#/components/schemas/ToolResultBlock"}]},"type":"array","title":"Content","description":"List of content blocks that make up the AI's response","default":[]},"model":{"type":"string","title":"Model","description":"Identifier of the AI model used to generate this response","default":"private-gpt"},"stop_reason":{"anyOf":[{"$ref":"#/components/schemas/StopReasonEnum"},{"type":"null"}],"description":"Reason why the AI stopped generating content"},"stop_sequence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stop Sequence","description":"The specific stop sequence that triggered response completion"},"usage":{"$ref":"#/components/schemas/Usage","description":"Token usage statistics for this interaction"}},"type":"object","title":"MessageOutput","description":"AI response message with content and metadata."},"Resource":{"properties":{"uri":{"type":"string","title":"Uri","description":"URI/URL of the resource"},"name":{"type":"string","title":"Name","description":"Human-readable name or title of the resource"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Optional description providing additional context about the resource"},"mime_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mime Type","description":"MIME type of the resource, if known"}},"type":"object","required":["uri","name"],"title":"Resource","description":"Resource metadata and information."},"ResourceBlock-Input":{"properties":{"type":{"type":"string","enum":["resource"],"const":"resource","title":"Type","description":"Content block type identifier for embedded resources","default":"resource"},"start_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Timestamp","description":"ISO timestamp when content block generation started"},"stop_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Stop Timestamp","description":"ISO timestamp when content block generation completed"},"_meta":{"type":"object","title":" Meta","description":"Additional metadata associated with this content block"},"resource":{"$ref":"#/components/schemas/Resource","description":"The embedded resource information and metadata"}},"type":"object","required":["resource"],"title":"ResourceBlock","description":"Resource block containing embedded resource information."},"ResourceBlock-Output":{"type":"object","title":"ResourceBlock","description":"Resource block containing embedded resource information."},"ResourceLinkBlock-Input":{"properties":{"type":{"type":"string","enum":["resource_link"],"const":"resource_link","title":"Type","description":"Content block type identifier for resource links","default":"resource_link"},"start_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Timestamp","description":"ISO timestamp when content block generation started"},"stop_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Stop Timestamp","description":"ISO timestamp when content block generation completed"},"_meta":{"type":"object","title":" Meta","description":"Additional metadata associated with this content block"},"uri":{"type":"string","title":"Uri","description":"URI/URL of the external resource being referenced"},"name":{"type":"string","title":"Name","description":"Human-readable name or title of the resource"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Optional description providing additional context about the resource"},"mime_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mime Type","description":"MIME type of the linked resource, if known"}},"type":"object","required":["uri","name"],"title":"ResourceLinkBlock","description":"Resource link block referencing external resources."},"ResourceLinkBlock-Output":{"type":"object","title":"ResourceLinkBlock","description":"Resource link block referencing external resources."},"ResponseFormat":{"properties":{"type":{"$ref":"#/components/schemas/ResponseFormatType","description":"Response format type","default":"text"},"json_schema":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Json Schema","description":"JSON schema definition when type is 'json_schema'"}},"type":"object","title":"ResponseFormat","description":"Configuration for AI response formatting and structure."},"ResponseFormatType":{"type":"string","enum":["text","json_schema"],"title":"ResponseFormatType","description":"Enumeration of supported response formats."},"SemanticSearchBody":{"properties":{"query":{"type":"string","title":"Query","description":"The natural language query to search for relevant content.","examples":["What were the Q4 revenue trends?"]},"context_filter":{"$ref":"#/components/schemas/ContextFilter","description":"Filters to narrow the search context (collections, artifacts, metadata)."},"format":{"type":"string","enum":["default","citations"],"title":"Format","description":"Format of the result content.\n'default' returns standard content blocks.\n'citations' returns blocks annotated for citation formatting.","default":"default","examples":["default"]}},"type":"object","required":["query","context_filter"],"title":"SemanticSearchBody","description":"Request body for semantic search."},"SourceBlock-Input":{"properties":{"type":{"type":"string","enum":["source"],"const":"source","title":"Type","description":"Content block type identifier for source attribution","default":"source"},"start_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Timestamp","description":"ISO timestamp when content block generation started"},"stop_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Stop Timestamp","description":"ISO timestamp when content block generation completed"},"_meta":{"type":"object","title":" Meta","description":"Additional metadata associated with this content block"},"sources":{"items":{"$ref":"#/components/schemas/Chunk"},"type":"array","title":"Sources","description":"List of document chunks that were used as context for generating the AI response"}},"type":"object","required":["sources"],"title":"SourceBlock","description":"Source block containing document chunks used for context."},"SourceBlock-Output":{"type":"object","title":"SourceBlock","description":"Source block containing document chunks used for context."},"StopReasonEnum":{"type":"string","enum":["end_turn","max_tokens","stop_sequence","tool_use","pause_turn","refusal"],"title":"StopReasonEnum","description":"Enumeration for AI response stop reasons."},"System":{"properties":{"use_default_prompt":{"type":"boolean","title":"Use Default Prompt","description":"When true, uses the default system prompt provided by Zylon","default":false},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text","description":"System prompt to use for the chat completion"},"citations":{"$ref":"#/components/schemas/Citations","description":"Citation configuration for source attribution in responses","default":{"enabled":false}}},"type":"object","title":"System","description":"System message configuration for AI behavior and prompting."},"TLDRBlock-Input":{"properties":{"type":{"type":"string","enum":["tldr"],"const":"tldr","title":"Type","description":"Content block type identifier for summary content","default":"tldr"},"start_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Timestamp","description":"ISO timestamp when content block generation started"},"stop_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Stop Timestamp","description":"ISO timestamp when content block generation completed"},"_meta":{"type":"object","title":" Meta","description":"Additional metadata associated with this content block"},"content":{"items":{"anyOf":[{"$ref":"#/components/schemas/TextBlock-Input"},{"$ref":"#/components/schemas/ImageBlock-Input"},{"$ref":"#/components/schemas/AudioBlock-Input"},{"$ref":"#/components/schemas/ResourceLinkBlock-Input"},{"$ref":"#/components/schemas/ResourceBlock-Input"},{"$ref":"#/components/schemas/SourceBlock-Input"},{"$ref":"#/components/schemas/ToolUseBlock-Input"},{"$ref":"#/components/schemas/ThinkingBlock-Input"}]},"type":"array","title":"Content","description":"List of content blocks that make up the summary or condensed information","default":[]}},"type":"object","title":"TLDRBlock","description":"Summary block containing condensed content."},"TLDRBlock-Output":{"type":"object","title":"TLDRBlock","description":"Summary block containing condensed content."},"TabularDataAnalysisBody":{"properties":{"query":{"type":"string","title":"Query","description":"The analysis question or prompt related to tabular data.","examples":["Show average revenue by department over the last 3 quarters."]},"context_filter":{"$ref":"#/components/schemas/ContextFilter","description":"Filters to select specific context from ingested documents."}},"type":"object","required":["query","context_filter"],"title":"TabularDataAnalysisBody","description":"Request body for tabular data analysis using the tool."},"Task":{"properties":{"task_id":{"type":"string","title":"Task Id","description":"Unique identifier for the asynchronous task, used to track progress and retrieve results","examples":["123e4567-e89b-12d3-a456-426614174000","revoked"]}},"type":"object","required":["task_id"],"title":"Task","description":"Represents an asynchronous task that has been queued.","examples":[{"task_id":"123e4567-e89b-12d3-a456-426614174000"},{"task_id":"456e7890-e89b-12d3-a456-426614174001"}]},"TaskStatus_IngestResponse_":{"properties":{"task_id":{"type":"string","title":"Task Id","description":"Unique identifier of the task being monitored","examples":["123e4567-e89b-12d3-a456-426614174000"]},"task_status":{"type":"string","title":"Task Status","description":"Current execution status of the task. Common values: PENDING, SUCCESS, FAILURE, REVOKED","examples":["PENDING","SUCCESS","FAILURE","REVOKED"]},"task_result":{"anyOf":[{"$ref":"#/components/schemas/IngestResponse"},{"type":"string"},{"type":"null"}],"title":"Task Result","description":"Task execution result. Contains typed result data on success, error message string on failure, or None for pending/deletion tasks","examples":[null,"File format not supported",{"data":[],"model":"private-gpt","object":"list"}]}},"type":"object","required":["task_id","task_status","task_result"],"title":"TaskStatus[IngestResponse]","description":"Represents the status of an asynchronous task, including its ID, status, and result.","examples":[{"task_id":"123e4567-e89b-12d3-a456-426614174000","task_result":{"data":[{"artifact":"annual_report","doc_metadata":{"file_name":"report.pdf","pages":45},"object":"ingest.document"}],"model":"private-gpt","object":"list"},"task_status":"SUCCESS"},{"task_id":"456e7890-e89b-12d3-a456-426614174001","task_status":"PENDING"},{"task_id":"789e0123-e89b-12d3-a456-426614174002","task_result":"URI resource could not be accessed","task_status":"FAILURE"}]},"TaskStatus_NoneType_":{"properties":{"task_id":{"type":"string","title":"Task Id","description":"Unique identifier of the task being monitored","examples":["123e4567-e89b-12d3-a456-426614174000"]},"task_status":{"type":"string","title":"Task Status","description":"Current execution status of the task. Common values: PENDING, SUCCESS, FAILURE, REVOKED","examples":["PENDING","SUCCESS","FAILURE","REVOKED"]},"task_result":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Task Result","description":"Task execution result. Contains typed result data on success, error message string on failure, or None for pending/deletion tasks","examples":[null,"File format not supported",{"data":[],"model":"private-gpt","object":"list"}]}},"type":"object","required":["task_id","task_status","task_result"],"title":"TaskStatus[NoneType]","description":"Represents the status of an asynchronous task, including its ID, status, and result.","examples":[{"task_id":"123e4567-e89b-12d3-a456-426614174000","task_result":{"data":[{"artifact":"annual_report","doc_metadata":{"file_name":"report.pdf","pages":45},"object":"ingest.document"}],"model":"private-gpt","object":"list"},"task_status":"SUCCESS"},{"task_id":"456e7890-e89b-12d3-a456-426614174001","task_status":"PENDING"},{"task_id":"789e0123-e89b-12d3-a456-426614174002","task_result":"URI resource could not be accessed","task_status":"FAILURE"}]},"TextBlock-Input":{"properties":{"type":{"type":"string","enum":["text"],"const":"text","title":"Type","description":"Content block type identifier for text content","default":"text"},"start_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Timestamp","description":"ISO timestamp when content block generation started"},"stop_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Stop Timestamp","description":"ISO timestamp when content block generation completed"},"_meta":{"type":"object","title":" Meta","description":"Additional metadata associated with this content block"},"text":{"type":"string","title":"Text","description":"The natural language text content of this block","default":""},"citations":{"anyOf":[{"items":{"$ref":"#/components/schemas/ZylonCitation"},"type":"array"},{"type":"null"}],"title":"Citations","description":"List of citations referencing sources used to generate this text","default":[]}},"type":"object","title":"TextBlock","description":"Text content block containing natural language text."},"TextBlock-Output":{"type":"object","title":"TextBlock","description":"Text content block containing natural language text."},"Thinking":{"properties":{"enabled":{"type":"boolean","title":"Enabled","description":"Enable reasoning capabilities for the model, allowing it to think step-by-step","default":false}},"type":"object","title":"Thinking","description":"Configuration for AI reasoning and step-by-step thinking capabilities."},"ThinkingBlock-Input":{"properties":{"type":{"type":"string","enum":["thinking"],"const":"thinking","title":"Type","description":"Content block type identifier for reasoning content","default":"thinking"},"start_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Timestamp","description":"ISO timestamp when content block generation started"},"stop_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Stop Timestamp","description":"ISO timestamp when content block generation completed"},"_meta":{"type":"object","title":" Meta","description":"Additional metadata associated with this content block"},"thinking":{"type":"string","title":"Thinking","description":"The AI's step-by-step reasoning and thought process","default":""},"citations":{"anyOf":[{"items":{"$ref":"#/components/schemas/ZylonCitation"},"type":"array"},{"type":"null"}],"title":"Citations","description":"List of citations referencing sources used during the reasoning process","default":[]}},"type":"object","title":"ThinkingBlock","description":"Thinking block containing the AI's reasoning process."},"ThinkingBlock-Output":{"type":"object","title":"ThinkingBlock","description":"Thinking block containing the AI's reasoning process."},"ToolChoice":{"properties":{"type":{"type":"string","enum":["auto","tool","none"],"title":"Type","description":"Tool selection strategy","default":"auto"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Name of the tool to use if not auto-selecting"},"disable_parallel_tool_use":{"type":"boolean","title":"Disable Parallel Tool Use","description":"When true, prevents the AI from using multiple tools simultaneously","default":false}},"type":"object","title":"ToolChoice","description":"Configuration for tool selection behavior during AI interactions."},"ToolResponse":{"properties":{"content":{"items":{"anyOf":[{"$ref":"#/components/schemas/TextBlock-Output"},{"$ref":"#/components/schemas/ImageBlock-Output"},{"$ref":"#/components/schemas/AudioBlock-Output"},{"$ref":"#/components/schemas/ResourceLinkBlock-Output"},{"$ref":"#/components/schemas/ResourceBlock-Output"},{"$ref":"#/components/schemas/SourceBlock-Output"},{"$ref":"#/components/schemas/ToolUseBlock-Output"},{"$ref":"#/components/schemas/ThinkingBlock-Output"},{"$ref":"#/components/schemas/TLDRBlock-Output"}]},"type":"array","title":"Content","description":"List of content blocks generated by the tool. Blocks can include plain text, citations, source attributions, or images."},"is_error":{"type":"boolean","title":"Is Error","description":"True if the tool encountered an error during execution.","default":false}},"type":"object","required":["content"],"title":"ToolResponse","description":"Response returned from tool-based operations."},"ToolResultBlock":{"properties":{"type":{"type":"string","enum":["tool_result"],"const":"tool_result","title":"Type","description":"Content block type identifier for tool results","default":"tool_result"},"start_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Timestamp","description":"ISO timestamp when content block generation started"},"stop_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Stop Timestamp","description":"ISO timestamp when content block generation completed"},"_meta":{"type":"object","title":" Meta","description":"Additional metadata associated with this content block"},"tool_use_id":{"type":"string","title":"Tool Use Id","description":"ID of the corresponding tool use block that generated this result"},"content":{"anyOf":[{"type":"string"},{"items":{"anyOf":[{"$ref":"#/components/schemas/TextBlock-Input"},{"$ref":"#/components/schemas/ImageBlock-Input"},{"$ref":"#/components/schemas/AudioBlock-Input"},{"$ref":"#/components/schemas/ResourceLinkBlock-Input"},{"$ref":"#/components/schemas/ResourceBlock-Input"},{"$ref":"#/components/schemas/SourceBlock-Input"},{"$ref":"#/components/schemas/ToolUseBlock-Input"},{"$ref":"#/components/schemas/ThinkingBlock-Input"},{"$ref":"#/components/schemas/TLDRBlock-Input"}]},"type":"array"}],"title":"Content","description":"The result content from the tool execution"},"is_error":{"type":"boolean","title":"Is Error","description":"Indicates whether the tool execution resulted in an error","default":false}},"type":"object","required":["tool_use_id","content"],"title":"ToolResultBlock","description":"Tool result block containing the output from a tool execution."},"ToolSpec":{"properties":{"name":{"type":"string","title":"Name","description":"Unique name identifier for the tool"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Human-readable description of what the tool does"},"inputSchema":{"type":"object","title":"Inputschema","description":"JSON schema defining the input parameters the tool accepts"}},"additionalProperties":true,"type":"object","required":["name","inputSchema"],"title":"ToolSpec","description":"Definition for a tool the client can call."},"ToolUseBlock-Input":{"properties":{"type":{"type":"string","enum":["tool_use"],"const":"tool_use","title":"Type","description":"Content block type identifier for tool usage","default":"tool_use"},"start_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Timestamp","description":"ISO timestamp when content block generation started"},"stop_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Stop Timestamp","description":"ISO timestamp when content block generation completed"},"_meta":{"type":"object","title":" Meta","description":"Additional metadata associated with this content block"},"id":{"type":"string","title":"Id","description":"Unique identifier for this tool use"},"name":{"type":"string","title":"Name","description":"Name of the tool being called"},"input":{"type":"object","title":"Input","description":"Input parameters passed to the tool","default":{}}},"type":"object","required":["id","name"],"title":"ToolUseBlock","description":"Tool usage block representing an AI's call to a tool."},"ToolUseBlock-Output":{"type":"object","title":"ToolUseBlock","description":"Tool usage block representing an AI's call to a tool."},"Usage":{"properties":{"input_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Input Tokens","description":"Number of tokens consumed from the input (prompt and context)"},"output_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Output Tokens","description":"Number of tokens generated in the output (AI response)"}},"type":"object","title":"Usage","description":"Token usage statistics for AI interactions."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"ZylonCitation":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id","description":"Unique identifier for the citation"},"index":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Index","description":"Index of the citation in the document"},"artifact_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Artifact Id","description":"Identifier of the artifact associated with the citation"},"source_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Id","description":"Identifier of the source document from which the citation is derived"}},"type":"object","title":"ZylonCitation","description":"ZylonCitation represents a citation in the Zylon format."}}}}